import{r as x,a as O,u as D,b as U,B as q,R as H,c as y,N as $,d as W}from"./react-vendor-Dedz5K0T.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();var I={exports:{}},R={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V=x,J=Symbol.for("react.element"),Y=Symbol.for("react.fragment"),G=Object.prototype.hasOwnProperty,Q=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};function L(s,t,a){var r,n={},l=null,i=null;a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)G.call(t,r)&&!K.hasOwnProperty(r)&&(n[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:J,type:s,key:l,ref:i,props:n,_owner:Q.current}}R.Fragment=Y;R.jsx=L;R.jsxs=L;I.exports=R;var e=I.exports,A={},M=O;A.createRoot=M.createRoot,A.hydrateRoot=M.hydrateRoot;const X="http://localhost:3001";async function f(s,t={}){const a=`${X}${s}`,r={headers:{"Content-Type":"application/json",...t.headers},...t},n=localStorage.getItem("authToken");n&&(r.headers.Authorization=`Bearer ${n}`);try{const l=await fetch(a,r),i=l.headers.get("content-type");let o;if(i&&i.includes("application/json")?o=await l.json():o=await l.text(),!l.ok)throw new Error(o.error||o.message||`HTTP error! status: ${l.status}`);return o}catch(l){throw console.error(`API request failed for ${s}:`,l),l}}const _={login:async(s,t)=>{const a=await f("/api/v1/auth/login",{method:"POST",body:JSON.stringify({email:s,password:t})});return a.token&&localStorage.setItem("authToken",a.token),a},register:async s=>{const t=await f("/api/v1/auth/register",{method:"POST",body:JSON.stringify(s)});return t.token&&localStorage.setItem("authToken",t.token),t},getProfile:async()=>await f("/api/v1/auth/profile"),logout:()=>{localStorage.removeItem("authToken")}},k={getTaxpayerDashboard:async(s,t=2024)=>await f(`/api/v1/dashboard/taxpayer?taxpayer_id=${s}&tax_year=${t}`),getBusinessDashboard:async(s,t=2024)=>await f(`/api/v1/dashboard/business/${s}?tax_year=${t}`),getTaxProDashboard:async()=>await f("/api/v1/dashboard/professional"),getAdminDashboard:async()=>await f("/api/v1/dashboard/admin"),getAdminMetrics:async()=>await f("/api/v1/dashboard/admin/metrics")},Z=()=>!!localStorage.getItem("authToken"),F=x.createContext(),v=()=>{const s=x.useContext(F);if(!s)throw new Error("useAuth must be used within AuthProvider");return s},ee=({children:s})=>{const[t,a]=x.useState(null),[r,n]=x.useState(!0),[l,i]=x.useState(null);x.useEffect(()=>{o()},[]);const o=async()=>{var u;try{const h=new URLSearchParams(window.location.search).get("role");if(h){const C={userId:"demo-"+h,name:h==="taxpayer"?"Michael Anderson":h==="business_owner"?"John Smith":h==="tax_professional"?"Jennifer Martinez":"Admin User",firstName:h==="taxpayer"?"Michael":h==="business_owner"?"John":h==="tax_professional"?"Jennifer":"Admin",lastName:h==="taxpayer"?"Anderson":h==="business_owner"?"Smith":h==="tax_professional"?"Martinez":"User",role:h,email:`demo@${h}.com`};a(C),n(!1);return}if(!Z()){n(!1);return}const b=await _.getProfile();a(b),b.role==="business_owner"&&((u=b.entities)==null?void 0:u.length)>0&&i(b.entities[0])}catch(p){console.error("Failed to load user:",p),_.logout()}finally{n(!1)}},c=async(u,p)=>{try{const h=await _.login(u,p);return a(h.user),h.user}catch(h){throw console.error("Login failed:",h),h}},m=()=>{_.logout(),a(null),i(null)},d=u=>{i(u)};return e.jsx(F.Provider,{value:{user:t,loading:r,selectedEntity:l,login:c,logout:m,switchEntity:d,isAuthenticated:!!t,isTaxpayer:(t==null?void 0:t.role)==="taxpayer",isBusinessOwner:(t==null?void 0:t.role)==="business_owner",isTaxProfessional:(t==null?void 0:t.role)==="tax_professional",isAdmin:(t==null?void 0:t.role)==="admin"},children:s})},P={getTaxpayerDashboard:async(s,t)=>await k.getTaxpayerDashboard(s,t),getBusinessDashboard:async(s,t)=>await k.getBusinessDashboard(s,t),getTaxProDashboard:async()=>await k.getTaxProDashboard(),getClientDetails:async s=>(await api.get(`/dashboard/tax-professional/clients/${s}`)).data,updateClientStatus:async(s,t)=>(await api.patch(`/dashboard/tax-professional/clients/${s}/status`,{status:t})).data,assignTask:async s=>(await api.post("/dashboard/tax-professional/tasks",s)).data,getAdminDashboard:async()=>await k.getAdminDashboard(),getSystemHealth:async()=>(await api.get("/dashboard/admin/health")).data,getUserManagement:async s=>(await api.get("/dashboard/admin/users",{params:s})).data,updateUserStatus:async(s,t)=>(await api.patch(`/dashboard/admin/users/${s}/status`,{status:t})).data,getIntegrationHealth:async()=>(await api.get("/dashboard/admin/integrations/health")).data,getBillingMetrics:async()=>(await api.get("/dashboard/admin/billing")).data,updateFeatureFlag:async(s,t)=>(await api.patch(`/dashboard/admin/feature-flags/${s}`,{enabled:t})).data,getTaxSoftwareIntegrations:async()=>(await api.get("/dashboard/integrations/tax-software")).data,connectTaxSoftware:async(s,t)=>(await api.post("/dashboard/integrations/tax-software/connect",{software:s,credentials:t})).data,syncDataToTaxSoftware:async(s,t)=>(await api.post("/dashboard/integrations/tax-software/sync",{client_id:s,sync_options:t})).data,getSyncStatus:async s=>(await api.get(`/dashboard/integrations/tax-software/sync-status/${s}`)).data,runTaxpayerSimulation:async(s,t)=>(await api.post("/dashboard/taxpayer/simulations",{simulation_type:s,inputs:t})).data,saveSimulationScenario:async s=>(await api.post("/dashboard/simulations/save",s)).data,getSimulationHistory:async s=>(await api.get(`/dashboard/simulations/history/${s}`)).data,shareSimulationWithPreparer:async(s,t)=>(await api.post("/dashboard/simulations/share",{simulation_id:s,preparer_id:t})).data,exportSimulationPDF:async s=>(await api.get(`/dashboard/simulations/${s}/export`,{responseType:"blob"})).data,runPreparerSimulation:async(s,t,a)=>(await api.post("/dashboard/tax-professional/simulations",{client_id:s,simulation_type:t,inputs:a})).data,getClientSimulations:async s=>(await api.get(`/dashboard/tax-professional/clients/${s}/simulations`)).data,runMultiYearProjection:async(s,t)=>(await api.post("/dashboard/tax-professional/projections",{client_id:s,projection_years:t})).data,runRothConversionAnalysis:async(s,t)=>(await api.post("/dashboard/tax-professional/roth-analysis",{client_id:s,conversion_data:t})).data,runSocialSecurityOptimization:async(s,t)=>(await api.post("/dashboard/tax-professional/ss-optimization",{client_id:s,client_data:t})).data,askTaxQuestion:async(s,t)=>(await api.post("/dashboard/ai-assistant/question",{question:s,context:t})).data,runQuickScenario:async s=>(await api.post("/dashboard/ai-assistant/scenario",s)).data,searchTaxLaw:async(s,t)=>(await api.get("/dashboard/ai-assistant/tax-law-search",{params:{query:s,jurisdiction:t}})).data,getFormInstructions:async s=>(await api.get(`/dashboard/ai-assistant/form-instructions/${s}`)).data,getClientNotices:async s=>(await api.get(`/dashboard/resolution/notices/${s}`)).data,createNoticeCase:async(s,t)=>(await api.post("/dashboard/resolution/notices/create",{client_id:s,notice_data:t})).data,updateNoticeStatus:async(s,t,a)=>(await api.patch(`/dashboard/resolution/notices/${s}`,{status:t,notes:a})).data,generateResponseLetter:async(s,t)=>(await api.post("/dashboard/resolution/generate-letter",{notice_id:s,response_type:t})).data,getPaymentPlanOptions:async(s,t)=>(await api.post("/dashboard/resolution/payment-plans",{client_id:s,amount_owed:t})).data,calculateOICAmount:async(s,t)=>(await api.post("/dashboard/resolution/oic-calculator",{client_id:s,financial_data:t})).data,requestPenaltyAbatement:async(s,t)=>(await api.post("/dashboard/resolution/penalty-abatement",{client_id:s,penalty_data:t})).data,createITINApplication:async(s,t)=>(await api.post("/dashboard/itin/application",{client_id:s,applicant_data:t})).data,getITINStatus:async s=>(await api.get(`/dashboard/itin/status/${s}`)).data,getITINDocumentChecklist:async s=>(await api.get("/dashboard/itin/document-checklist",{params:{application_type:s}})).data,findNearbyCAA:async s=>(await api.get("/dashboard/itin/find-caa",{params:{zip_code:s}})).data,trackITINRenewal:async s=>(await api.get(`/dashboard/itin/renewal-tracker/${s}`)).data,getClientDeadlines:async(s,t)=>(await api.get(`/dashboard/compliance/deadlines/${s}`,{params:{jurisdictions:t}})).data,getAllDeadlines:async s=>(await api.get("/dashboard/compliance/all-deadlines",{params:s})).data,setDeadlineAlert:async(s,t)=>(await api.post("/dashboard/compliance/set-alert",{deadline_id:s,alert_days_before:t})).data,getStateRequirements:async(s,t)=>(await api.get("/dashboard/compliance/state-requirements",{params:{state:s,entity_type:t}})).data,getLocalTaxRequirements:async(s,t)=>(await api.get("/dashboard/compliance/local-requirements",{params:{city:s,county:t}})).data},j=(s,t={})=>s==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2,...t}).format(s),w=(s,t={})=>{if(!s)return"";const a=typeof s=="string"?new Date(s):s;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",...t}).format(a)},se=s=>{if(!s)return"";const t=typeof s=="string"?new Date(s):s,r=Math.floor((new Date-t)/1e3);return r<60?"just now":r<3600?`${Math.floor(r/60)} minutes ago`:r<86400?`${Math.floor(r/3600)} hours ago`:r<604800?`${Math.floor(r/86400)} days ago`:w(t)},S=({message:s="Loading...",size:t="large"})=>{const a={small:"w-8 h-8",medium:"w-12 h-12",large:"w-16 h-16"};return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[e.jsx("div",{className:`${a[t]} animate-spin`,children:e.jsxs("svg",{className:"w-full h-full text-teal-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),s&&e.jsx("p",{className:"mt-4 text-gray-600 font-medium",children:s})]})},te=()=>{const{user:s}=v(),[t,a]=x.useState("dashboard"),[r,n]=x.useState(!0),[l,i]=x.useState(new Date().getFullYear()),[o,c]=x.useState(null),[m,d]=x.useState(null);x.useEffect(()=>{u()},[l]);const u=async()=>{try{n(!0);const p=await P.getTaxpayerDashboard(l);c(p)}catch(p){console.error("Failed to load dashboard:",p)}finally{n(!1)}};return r?e.jsx(S,{message:"Loading your tax dashboard..."}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(re,{user:s,onOpenModal:d}),e.jsx(ae,{activeTab:t,onTabChange:a}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6",children:[t==="dashboard"&&e.jsx(le,{data:o,onOpenModal:d}),t==="connections"&&e.jsx(xe,{}),t==="documents"&&e.jsx(me,{}),t==="dependents"&&e.jsx(he,{}),t==="identity"&&e.jsx(ue,{}),t==="messages"&&e.jsx(pe,{}),t==="subscription"&&e.jsx(ge,{}),t==="settings"&&e.jsx(be,{})]}),m==="subscription"&&e.jsx(Se,{onClose:()=>d(null)}),m==="message-preparer"&&e.jsx(Ce,{onClose:()=>d(null)}),m==="upload"&&e.jsx(_e,{onClose:()=>d(null)})]})},re=({user:s,onOpenModal:t})=>e.jsx("header",{className:"bg-gradient-to-r from-blue-600 to-blue-700 shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Tax Dashboard"}),e.jsx("p",{className:"text-sm text-blue-100",children:s.name||"Michael & Sarah Anderson"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>t("subscription"),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 font-semibold flex items-center space-x-2",children:[e.jsx("span",{children:"â­"}),e.jsx("span",{children:"Upgrade Plan"})]}),e.jsxs("button",{onClick:()=>t("message-preparer"),className:"px-4 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 font-semibold flex items-center space-x-2",children:[e.jsx("span",{children:"ðŸ’¬"}),e.jsx("span",{children:"Message Preparer"})]}),e.jsx("div",{className:"flex items-center space-x-2 bg-white bg-opacity-20 rounded-lg px-3 py-2",children:e.jsxs("span",{className:"text-white text-sm",children:["ðŸ‘¤ ",s.firstName||"Michael Anderson"]})})]})]})})}),ae=({activeTab:s,onTabChange:t})=>{const a=[{id:"dashboard",label:"ðŸ“Š Dashboard",badge:null},{id:"connections",label:"ðŸ”— Connections",badge:null},{id:"documents",label:"ðŸ“„ Documents",badge:null},{id:"dependents",label:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Family & Dependents",badge:null},{id:"identity",label:"ðŸ†” Identity Verification",badge:null},{id:"messages",label:"ðŸ’¬ Messages",badge:3},{id:"subscription",label:"ðŸ’³ Subscription",badge:null},{id:"settings",label:"âš™ï¸ Settings",badge:null}];return e.jsx("nav",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:a.map(r=>e.jsxs("button",{onClick:()=>t(r.id),className:`relative px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${s===r.id?"border-b-3 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[r.label,r.badge&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:r.badge})]},r.id))})})})},le=({data:s,onOpenModal:t})=>e.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[e.jsx(ne,{data:s}),e.jsx(ie,{stages:s==null?void 0:s.timeline}),e.jsx(oe,{stats:s==null?void 0:s.stats}),e.jsx(ce,{recommendations:s==null?void 0:s.recommendations,onOpenModal:t}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(je,{sources:s==null?void 0:s.income_sources}),e.jsx(ye,{deductions:s==null?void 0:s.deductions}),e.jsx(fe,{documents:s==null?void 0:s.documents})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(ve,{professional:s==null?void 0:s.assigned_professional}),e.jsx(Ne,{deadlines:s==null?void 0:s.deadlines}),e.jsx(we,{onOpenModal:t})]})]})]}),ne=({data:s})=>{const t=(s==null?void 0:s.progress)||78,a=(s==null?void 0:s.status)||"In Review by Preparer",r=(s==null?void 0:s.current_stage)||"Professional Review",n=(s==null?void 0:s.preparer)||"Jennifer Martinez",l=(s==null?void 0:s.expected_completion)||"December 20, 2024";return e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"2024 Tax Return Status"}),e.jsxs("p",{className:"mt-2 text-lg",children:["Filing Status: Married Filing Jointly â€¢ Status: ",e.jsx("span",{className:"font-semibold",children:a})]}),e.jsxs("div",{className:"mt-4 bg-white bg-opacity-20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"text-2xl",children:"â±ï¸"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:["Current Stage: ",r]}),e.jsxs("div",{className:"text-sm opacity-90",children:["Your preparer ",n," is reviewing your return"]})]})]}),e.jsxs("div",{className:"text-sm opacity-90 mt-2",children:["Expected completion: ",l," (3 days)"]})]})]}),e.jsxs("div",{className:"text-right ml-6",children:[e.jsx("div",{className:"text-sm opacity-90",children:"Overall Progress"}),e.jsxs("div",{className:"text-5xl font-bold",children:[t,"%"]}),e.jsx("div",{className:"w-32 bg-white bg-opacity-30 rounded-full h-3 mt-2",children:e.jsx("div",{className:"bg-yellow-300 h-3 rounded-full transition-all duration-500",style:{width:`${t}%`}})})]})]})})},ie=({stages:s})=>{const a=s||[{title:"Documents Received",status:"completed",date:"Dec 10, 2024",description:"All required documents uploaded and verified"},{title:"Documents Processed",status:"completed",date:"Dec 12, 2024",description:"All forms digitized and data extracted"},{title:"Preparer Review",status:"current",date:"Dec 20, 2024",description:"Jennifer Martinez is reviewing your return for accuracy and optimization"},{title:"Client Approval",status:"pending",date:"Pending",description:"Review and approve final return"},{title:"E-Filed to IRS",status:"pending",date:"Dec 22, 2024",description:"Return submitted electronically to IRS"},{title:"IRS Acknowledgment",status:"pending",date:"Dec 24, 2024",description:"IRS confirms receipt (typically 24-48 hours)"},{title:"Refund Issued",status:"pending",date:"Jan 15, 2025",description:"IRS processes and issues refund (10-21 days)"}],r=n=>n==="completed"?{icon:"âœ“",color:"green",pulse:!1}:n==="current"?{icon:"â³",color:"blue",pulse:!0}:{icon:"â—‹",color:"gray",pulse:!1};return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"ðŸ“‹ Processing Timeline"}),e.jsx("div",{className:"space-y-4",children:a.map((n,l)=>{const i=r(n.status),o=n.status==="completed",c=n.status==="current",m=n.status==="pending";return e.jsxs("div",{className:`flex items-start space-x-4 ${m?"opacity-50":""}`,children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 bg-${i.color}-100 rounded-full flex items-center justify-center ${i.pulse?"animate-pulse":""}`,children:e.jsx("span",{className:`text-${i.color}-600 text-xl`,children:i.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold",children:[n.title,c?" (Current Stage)":""]}),e.jsx("div",{className:"text-sm text-gray-600",children:n.description}),e.jsx("div",{className:`text-xs mt-1 ${o?"text-gray-500":c?"text-blue-600 font-semibold":"text-gray-500"}`,children:o?`Completed: ${n.date}`:c?`In Progress - Expected: ${n.date}`:`Estimated: ${n.date}`})]})]},l)})})]})},oe=({stats:s})=>{const a=s||[{label:"Total Income",value:"$125,450",change:"â†‘ 8% from 2023",color:"gray"},{label:"Tax Withheld",value:"$24,680",sublabel:"Federal & State",color:"gray"},{label:"Estimated Refund",value:"$2,340",sublabel:"Projected",color:"green"},{label:"Potential Savings",value:"$5,240",sublabel:"Via optimization",color:"blue"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:a.map((r,n)=>{var l;return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:"text-sm text-gray-600",children:r.label}),e.jsx("div",{className:`text-3xl font-bold mt-2 ${r.color==="green"?"text-green-600":r.color==="blue"?"text-blue-600":"text-gray-900"}`,children:r.value}),e.jsx("div",{className:`text-sm mt-1 ${(l=r.change)!=null&&l.includes("â†‘")?"text-green-600":"text-gray-500"}`,children:r.change||r.sublabel})]},n)})})},ce=({recommendations:s,onOpenModal:t})=>{const r=s||[{title:"Maximize 401(k) Contributions",priority:"high",icon:"ðŸ’°",description:"You're currently contributing $15,000 annually. Increase to the 2024 limit of $23,000 to maximize tax savings.",savings:"$2,400/year",impact:{contribution:"$8,000/year",taxSavings:"$2,400/year",taxRate:"30% bracket",difficulty:"Easy"},actionSteps:["Log into your employer's payroll portal","Update 401(k) contribution to 12% of gross pay","Confirm changes take effect next pay period"]},{title:"Claim Home Office Deduction",priority:"medium",icon:"ðŸ ",description:"Based on your remote work pattern (3 days/week), you qualify for home office deduction.",savings:"$720/year",calculation:{homeOfficeSpace:"200 sq ft",totalHomeSpace:"2,000 sq ft",percentageUsed:"10%",annualRentMortgage:"$24,000",deductibleAmount:"$2,400"},requiredDocs:["Home office photo/measurements","Utility bills (last 12 months)","Rent/mortgage statements","Employer remote work policy"]},{title:"Education Credits for Dependent",priority:"high",icon:"ðŸŽ“",description:"Your daughter Emma qualifies for American Opportunity Tax Credit.",savings:"$2,500",details:{tuition:"$12,000/year",credit:"Up to $2,500",refundable:"40% refundable ($1,000)"}}];return e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"ðŸ’¡ AI-Powered Tax Optimization Recommendations"}),e.jsx("div",{className:"space-y-4",children:r.map((n,l)=>e.jsx(de,{recommendation:n,onOpenModal:t},l))})]})},de=({recommendation:s,onOpenModal:t})=>{const[a,r]=x.useState(!1),n=s.priority==="high"?"green":s.priority==="medium"?"blue":"purple",l=s.priority==="high"?"green":s.priority==="medium"?"blue":"purple";return e.jsxs("div",{className:`p-5 border-l-4 border-${n}-500 bg-${l}-50 rounded-lg`,children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:s.icon}),e.jsx("div",{className:"font-bold text-lg",children:s.title}),e.jsx("span",{className:`px-2 py-1 bg-${l}-600 text-white text-xs rounded-full font-semibold`,children:s.priority==="high"?"High Priority":s.priority==="medium"?"Medium Priority":"High Impact"})]}),e.jsx("div",{className:"text-gray-700 mb-2",children:s.description}),a&&s.impact&&e.jsxs("div",{className:"bg-white rounded p-3 mb-3",children:[e.jsx("div",{className:"text-sm font-semibold mb-2",children:"Impact Analysis:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Additional Contribution"}),e.jsx("div",{className:"font-bold",children:s.impact.contribution})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Tax Savings"}),e.jsx("div",{className:"font-bold text-green-600",children:s.impact.taxSavings})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Effective Tax Rate"}),e.jsx("div",{className:"font-bold",children:s.impact.taxRate})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Implementation"}),e.jsx("div",{className:"font-bold text-blue-600",children:s.impact.difficulty})]})]})]}),a&&s.actionSteps&&e.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[e.jsx("span",{className:"font-semibold",children:"Action Steps:"}),e.jsx("ol",{className:"list-decimal ml-5 mt-2 space-y-1",children:s.actionSteps.map((i,o)=>e.jsx("li",{children:i},o))})]}),a&&s.requiredDocs&&e.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[e.jsx("span",{className:"font-semibold",children:"Required Documents:"}),e.jsx("ul",{className:"list-disc ml-5 mt-2 space-y-1",children:s.requiredDocs.map((i,o)=>e.jsx("li",{children:i},o))})]}),e.jsxs("div",{className:`text-2xl font-bold text-${l}-600 mb-2`,children:["Save ",s.savings]})]})}),e.jsxs("div",{className:"flex space-x-3 mt-3",children:[e.jsx("button",{className:`px-4 py-2 bg-${l}-600 text-white rounded hover:bg-${l}-700 font-semibold`,children:"Apply Recommendation"}),e.jsx("button",{onClick:()=>r(!a),className:`px-4 py-2 bg-${l}-100 text-${l}-700 rounded hover:bg-${l}-200`,children:a?"Show Less":"Learn More"}),e.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"Dismiss"})]})]})},xe=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ”— Connections"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Connect your financial accounts to automatically import tax documents."})]}),me=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ“„ Documents"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Manage and upload your tax documents here."})]}),he=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Family & Dependents"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Manage family members and dependents."})]}),ue=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ†” Identity Verification"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Verify your identity for secure tax filing."})]}),pe=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ’¬ Messages"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Communicate with your tax preparer."})]}),ge=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ’³ Subscription"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Manage your subscription and billing."})]}),be=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"âš™ï¸ Settings"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Update your account settings and preferences."})]}),je=({sources:s})=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"ðŸ’¼ Income Sources"}),e.jsx("p",{className:"text-gray-600",children:"Income breakdown coming soon..."})]}),ye=({deductions:s})=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"ðŸ“‰ Deductions & Credits"}),e.jsx("p",{className:"text-gray-600",children:"Deductions summary coming soon..."})]}),fe=({documents:s})=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"ðŸ“ Document Checklist"}),e.jsx("p",{className:"text-gray-600",children:"Document status coming soon..."})]}),ve=({professional:s})=>{const t=s||{name:"Jennifer Martinez",title:"CPA, EA",initials:"JM"};return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"ðŸ‘¤ Your Tax Professional"}),e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-bold text-blue-600",children:t.initials})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:t.name}),e.jsx("div",{className:"text-sm text-gray-600",children:t.title})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Send Message"}),e.jsx("button",{className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium",children:"Schedule Call"})]})]})},Ne=({deadlines:s})=>{const a=s||[{title:"Q4 Estimated Tax",date:"2025-01-15",icon:"ðŸ“…"},{title:"Tax Return Deadline",date:"2025-04-15",icon:"â°"}];return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"ðŸ“… Upcoming Deadlines"}),e.jsx("div",{className:"space-y-3",children:a.map((r,n)=>e.jsxs("div",{className:"flex items-center space-x-3 pb-3 border-b border-gray-100 last:border-0",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:r.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:r.title}),e.jsx("div",{className:"text-sm text-gray-600",children:w(r.date)})]})]},n))})]})},we=({onOpenModal:s})=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"âš¡ Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>s("upload"),className:"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“¤"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Upload Document"}),e.jsx("div",{className:"text-xs text-gray-500",children:"W-2, 1099, receipts"})]})]}),e.jsxs("button",{className:"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“Š"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"View Tax Forms"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Draft and final returns"})]})]}),e.jsxs("button",{onClick:()=>s("message-preparer"),className:"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ’¬"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Ask a Question"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Get tax advice"})]})]})]})]}),Se=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm",onClick:s,children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"â­ Upgrade Your Plan"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Choose a plan that works best for you."}),e.jsx("div",{className:"flex justify-end space-x-3",children:e.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})}),Ce=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm",onClick:s,children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"ðŸ’¬ Message Your Tax Preparer"}),e.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-3 mb-4",rows:"6",placeholder:"Type your message here..."}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Send Message"})]})]})}),_e=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm",onClick:s,children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"ðŸ“¤ Upload Documents"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center mb-4",children:e.jsx("p",{className:"text-gray-600",children:"Drag and drop files here, or click to select"})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Upload"})]})]})}),ke=()=>{const{user:s}=v(),[t,a]=x.useState("dashboard"),[r,n]=x.useState(!0),[l,i]=x.useState("tech-solutions"),[o,c]=x.useState(null),[m,d]=x.useState(null),[u,p]=x.useState(null);x.useEffect(()=>{h()},[l]);const h=async()=>{try{n(!0);const b=await P.getBusinessOwnerDashboard(l);c(b)}catch(b){console.error("Failed to load dashboard:",b)}finally{n(!1)}};return r?e.jsx(S,{message:"Loading your business dashboard..."}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Te,{user:s,selectedBusiness:l,onBusinessChange:i,onOpenModal:d}),e.jsx($e,{activeTab:t,onTabChange:a}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[t==="dashboard"&&e.jsx(Re,{data:o,onOpenModal:d,onRunSimulation:p}),t==="profile"&&e.jsx(Le,{}),t==="financial"&&e.jsx(Fe,{}),t==="payroll"&&e.jsx(ze,{}),t==="simulations"&&e.jsx(Ee,{}),t==="compliance"&&e.jsx(Be,{}),t==="documents"&&e.jsx(Oe,{}),t==="messages"&&e.jsx(Ue,{}),t==="subscription"&&e.jsx(qe,{}),t==="settings"&&e.jsx(He,{})]}),m==="message"&&e.jsx(We,{onClose:()=>d(null)}),m==="simulation"&&e.jsx(Ve,{result:u,onClose:()=>d(null)})]})},Te=({user:s,selectedBusiness:t,onBusinessChange:a,onOpenModal:r})=>{var i,o;const n=[{id:"tech-solutions",name:"Tech Solutions LLC",ein:"12-3456789",type:"S-Corporation"},{id:"consulting-co",name:"Consulting Co.",ein:"98-7654321",type:"LLC"}],l=n.find(c=>c.id===t)||n[0];return e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-3xl text-indigo-600",children:"ðŸ¢"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["EIN: ",l.ein," | ",l.type]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:t,onChange:c=>a(c.target.value),className:"bg-gray-50 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[n.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id)),e.jsx("option",{value:"add-new",children:"+ Add Business"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700",children:[e.jsx("span",{children:"ðŸ‘¤"}),e.jsx("span",{children:"Personal Tax Dashboard"})]}),e.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900",children:[e.jsx("span",{className:"text-xl",children:"ðŸ””"}),e.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white font-bold",children:[(i=s.firstName)==null?void 0:i[0],(o=s.lastName)==null?void 0:o[0]]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name||"John Smith"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Business Owner"})]})]})]})]})})})},$e=({activeTab:s,onTabChange:t})=>{const a=[{id:"dashboard",label:"ðŸ“Š Dashboard",icon:"chart-line"},{id:"profile",label:"ðŸ¢ Business Profile",icon:"building"},{id:"financial",label:"ðŸ“ˆ Financial",icon:"chart-bar"},{id:"payroll",label:"ðŸ‘¥ Payroll",icon:"users"},{id:"simulations",label:"ðŸ§ª Tax Simulations",icon:"flask"},{id:"compliance",label:"âœ… Compliance",icon:"clipboard-check"},{id:"documents",label:"ðŸ“ Documents",icon:"folder"},{id:"messages",label:"ðŸ’¬ Messages",icon:"comments",badge:2},{id:"subscription",label:"ðŸ’³ Subscription",icon:"credit-card"},{id:"settings",label:"âš™ï¸ Settings",icon:"cog"}];return e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"flex space-x-1 overflow-x-auto",children:a.map(r=>e.jsxs("button",{onClick:()=>t(r.id),className:`relative px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${s===r.id?"border-b-2 border-indigo-600 text-indigo-600":"border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.label,r.badge&&e.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-red-500 text-white rounded-full",children:r.badge})]},r.id))})})})},Re=({data:s,onOpenModal:t,onRunSimulation:a})=>e.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[e.jsx(Pe,{}),e.jsx(Ae,{stats:s==null?void 0:s.stats}),e.jsx(Me,{recommendations:s==null?void 0:s.recommendations,onRunSimulation:a}),e.jsx(Ie,{onOpenModal:t})]}),Pe=()=>e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-white bg-opacity-20 p-3 rounded-full",children:e.jsx("span",{className:"text-3xl",children:"ðŸ“Š"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"2024 Tax Year - In Progress"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Quarterly filing Q4 due: January 15, 2025"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-blue-100",children:"Last Updated"}),e.jsx("p",{className:"text-lg font-semibold",children:"Dec 15, 2024"})]})]})}),Ae=({stats:s})=>{const a=s||[{label:"Annual Revenue",value:"$845,250",icon:"ðŸ’°",trend:"â†‘ 23% vs last year",color:"green"},{label:"Net Profit",value:"$186,355",icon:"ðŸ“Š",sublabel:"22% margin",color:"blue"},{label:"Employees",value:"12",icon:"ðŸ‘¥",trend:"â†‘ 3 added this year",color:"purple"},{label:"Tax Liability",value:"$42,180",icon:"ðŸ“„",sublabel:"Estimated for 2024",color:"orange"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((r,n)=>{var l;return e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow transform hover:-translate-y-1 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:r.label}),e.jsx("span",{className:"text-2xl",children:r.icon})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.value}),e.jsx("p",{className:`text-sm mt-2 ${(l=r.trend)!=null&&l.includes("â†‘")?"text-green-600":"text-gray-600"}`,children:r.trend||r.sublabel})]},n)})})},Me=({recommendations:s,onRunSimulation:t})=>{const r=s||[{type:"growth",icon:"ðŸš€",title:"Growth Opportunity: Hire 2 Sales Reps",description:"Based on your current $70K/customer acquisition, adding 2 sales reps could generate $420K additional revenue",impact:"+$52K Profit",bgColor:"from-green-50 to-emerald-50",borderColor:"border-green-500",badgeColor:"bg-green-600",details:{impact:"High",difficulty:"Medium"}},{type:"profitability",icon:"ðŸ“ˆ",title:"Profitability: Your margin is 15% below industry average",description:"Tech services companies average 37% profit margin. Consider reducing COGS by 3% and optimizing labor costs",impact:"+$25K/year",bgColor:"from-blue-50 to-indigo-50",borderColor:"border-blue-500",badgeColor:"bg-blue-600",metrics:{current:"22%",industry:"37%",potential:"31%"}},{type:"entity",icon:"ðŸ¢",title:"Tax Strategy: Consider C-Corp Election for 2025",description:"Based on your profit level ($186K), C-Corp could save $8,400 annually vs S-Corp due to QBI phase-out",impact:"$8.4K Savings",bgColor:"from-purple-50 to-pink-50",borderColor:"border-purple-500",badgeColor:"bg-purple-600",cta:"Compare Entities"},{type:"compliance",icon:"âš ï¸",title:"Compliance: BOI Filing Due January 1, 2025",description:"Beneficial Ownership Information reporting required by FinCEN. Penalty: $500/day if late",impact:"URGENT",bgColor:"from-red-50 to-orange-50",borderColor:"border-red-500",badgeColor:"bg-red-600",urgent:!0},{type:"equipment",icon:"ðŸ’»",title:"Equipment Purchase: Buy before Dec 31 for Section 179 deduction",description:"Planning to buy $15K in equipment? Immediate deduction saves $3,300 vs 5-year depreciation",impact:"$3.3K Savings",bgColor:"from-yellow-50 to-amber-50",borderColor:"border-yellow-500",badgeColor:"bg-yellow-600",deadline:"Dec 31, 2024"}];return e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"ðŸ¤–"}),"AI-Powered Recommendations"]}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"$87,500 Potential Savings"})]})}),e.jsx("div",{className:"p-6 space-y-4",children:r.map((n,l)=>e.jsx(De,{recommendation:n,onRunSimulation:t},l))})]})},De=({recommendation:s,onRunSimulation:t})=>e.jsxs("div",{className:`bg-gradient-to-r ${s.bgColor} rounded-lg p-4 border-l-4 ${s.borderColor}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-xl mt-1",children:s.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]})]}),e.jsx("span",{className:`px-3 py-1 ${s.badgeColor} text-white rounded-full text-xs font-medium whitespace-nowrap`,children:s.impact})]}),s.metrics&&e.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-white rounded p-2",children:[e.jsx("p",{className:"text-gray-500",children:"Current Margin"}),e.jsx("p",{className:"font-bold text-gray-900",children:s.metrics.current})]}),e.jsxs("div",{className:"bg-white rounded p-2",children:[e.jsx("p",{className:"text-gray-500",children:"Industry Avg"}),e.jsx("p",{className:"font-bold text-gray-900",children:s.metrics.industry})]}),e.jsxs("div",{className:"bg-white rounded p-2",children:[e.jsx("p",{className:"text-gray-500",children:"Potential"}),e.jsx("p",{className:"font-bold text-green-600",children:s.metrics.potential})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-3",children:[s.details&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-gray-600",children:["Impact: ",e.jsx("span",{className:"font-medium text-gray-900",children:s.details.impact})]}),e.jsxs("span",{className:"text-gray-600",children:["Difficulty: ",e.jsx("span",{className:"font-medium text-gray-900",children:s.details.difficulty})]})]}),s.deadline&&e.jsxs("span",{className:"text-gray-600",children:["Deadline: ",e.jsx("span",{className:"font-medium text-red-600",children:s.deadline})]}),s.urgent&&e.jsxs("button",{className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[e.jsx("span",{className:"mr-2",children:"ðŸ“„"}),"Complete BOI Filing Now"]}),!s.urgent&&e.jsxs("button",{onClick:()=>t(s.type),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:[s.cta||"Run Simulation"," â†’"]})]})]}),Ie=({onOpenModal:s})=>{const t=[{icon:"ðŸ’¬",title:"Message Tax Preparer",description:"Ask questions or send documents"},{icon:"ðŸ§®",title:"Run Tax Simulation",description:"Compare entity structures"},{icon:"ðŸ“¤",title:"Upload Documents",description:"Financial statements, receipts"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((a,r)=>e.jsxs("button",{onClick:()=>s("message"),className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition text-left",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"bg-indigo-100 p-3 rounded-full",children:e.jsx("span",{className:"text-indigo-600 text-xl",children:a.icon})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:a.title})]}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description})]},r))})},Le=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ¢ Business Profile"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Manage your business information and settings."})]}),Fe=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ“ˆ Financial"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"View profit & loss, balance sheet, and cash flow."})]}),ze=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ‘¥ Payroll"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Manage employees and payroll tax filings."})]}),Ee=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ§ª Tax Simulations"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Run entity comparisons and tax scenarios."})]}),Be=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"âœ… Compliance"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Track deadlines and regulatory requirements."})]}),Oe=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ“ Documents"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Upload and manage business documents."})]}),Ue=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ’¬ Messages"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Communicate with your tax professional."})]}),qe=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"ðŸ’³ Subscription"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Manage subscription and billing."})]}),He=()=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"âš™ï¸ Settings"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Update business settings and preferences."})]}),We=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm",onClick:s,children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4",onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"ðŸ’¬ Message Tax Preparer"}),e.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-3 mb-4",rows:"6",placeholder:"Type your message here..."}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Send Message"})]})]})}),Ve=({result:s,onClose:t})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm",onClick:t,children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-3xl w-full mx-4",onClick:a=>a.stopPropagation(),children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"ðŸ§ª Simulation Results"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Simulation results will appear here..."}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:t,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Close"})})]})}),g=({title:s,value:t,icon:a,trend:r,color:n="blue",subtitle:l,onClick:i})=>{const o={blue:"from-blue-500 to-blue-600",purple:"from-purple-500 to-purple-600",green:"from-green-500 to-green-600",red:"from-red-500 to-red-600",orange:"from-orange-500 to-orange-600",teal:"from-teal-500 to-teal-600"},c=d=>d?d>0?"â†—":d<0?"â†˜":"â†’":null,m=d=>d?d>0?"text-green-400":d<0?"text-red-400":"text-gray-400":"text-gray-400";return e.jsxs("div",{className:`bg-gradient-to-br ${o[n]} rounded-lg shadow-lg p-6 text-white ${i?"cursor-pointer hover:shadow-xl transition-shadow":""}`,onClick:i,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:s}),e.jsx("h3",{className:"text-3xl font-bold mt-2",children:t}),l&&e.jsx("p",{className:"text-white/70 text-xs mt-1",children:l})]}),a&&e.jsx("div",{className:"text-4xl opacity-80",children:a})]}),r!==void 0&&e.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[e.jsx("span",{className:m(r),children:c(r)}),e.jsxs("span",{className:"ml-1 text-white/90",children:[Math.abs(r),"% vs last period"]})]})]})},Je=()=>{const{user:s}=v(),[t,a]=x.useState(null),[r,n]=x.useState(!0),[l,i]=x.useState("clients"),[o,c]=x.useState({status:"all",priority:"all",search:""});x.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0);const d=await P.getTaxProfessionalDashboard();a(d)}catch(d){console.error("Failed to load dashboard:",d)}finally{n(!1)}};return r?e.jsx(S,{message:"Loading professional dashboard..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",s.firstName,"!"]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Tax Professional Dashboard â€¢ ",(t==null?void 0:t.client_count)||0," Active Clients"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700",children:"+ New Client"}),e.jsx("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Export Report"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx(g,{title:"Active Clients",value:(t==null?void 0:t.client_count)||0,icon:"ðŸ‘¥",color:"blue"}),e.jsx(g,{title:"Returns Pending",value:(t==null?void 0:t.pending_returns)||0,icon:"ðŸ“‹",color:"orange"}),e.jsx(g,{title:"Returns Filed (YTD)",value:(t==null?void 0:t.filed_ytd)||0,icon:"âœ…",color:"green",trend:t==null?void 0:t.filed_trend}),e.jsx(g,{title:"Billable Hours",value:(t==null?void 0:t.billable_hours)||0,icon:"â°",color:"purple",subtitle:"this month"}),e.jsx(g,{title:"Revenue (MTD)",value:j((t==null?void 0:t.revenue_mtd)||0),icon:"ðŸ’°",color:"teal",trend:t==null?void 0:t.revenue_trend})]}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex -mb-px",children:[{id:"clients",label:"Client Portfolio",icon:"ðŸ‘¥"},{id:"pipeline",label:"Work Pipeline",icon:"ðŸ“Š"},{id:"team",label:"Team Activity",icon:"ðŸ‘¨â€ðŸ’¼"},{id:"reports",label:"Reports & Analytics",icon:"ðŸ“ˆ"}].map(d=>e.jsxs("button",{onClick:()=>i(d.id),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${l===d.id?"border-teal-600 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:d.icon}),d.label]},d.id))})})}),l==="clients"&&e.jsx(Ye,{data:t==null?void 0:t.clients,filters:o,setFilters:c}),l==="pipeline"&&e.jsx(Ge,{data:t==null?void 0:t.pipeline}),l==="team"&&e.jsx(Qe,{data:t==null?void 0:t.team}),l==="reports"&&e.jsx(Ke,{data:t==null?void 0:t.analytics})]})},Ye=({data:s,filters:t,setFilters:a})=>{const[r,n]=x.useState(s||[]);return x.useEffect(()=>{let l=s||[];t.status!=="all"&&(l=l.filter(i=>i.status===t.status)),t.priority!=="all"&&(l=l.filter(i=>i.priority===t.priority)),t.search&&(l=l.filter(i=>i.name.toLowerCase().includes(t.search.toLowerCase()))),n(l)},[s,t]),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("input",{type:"text",placeholder:"Search clients...",value:t.search,onChange:l=>a({...t,search:l.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500"}),e.jsxs("select",{value:t.status,onChange:l=>a({...t,status:l.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"filed",children:"Filed"})]}),e.jsxs("select",{value:t.priority,onChange:l=>a({...t,priority:l.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"all",children:"All Priority"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Client"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Deadline"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Est. Refund/Due"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Activity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((l,i)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-blue-600",children:l.initials||l.name.charAt(0)})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.name}),e.jsx("div",{className:"text-sm text-gray-500",children:l.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l.status==="filed"?"bg-green-100 text-green-800":l.status==="under_review"?"bg-blue-100 text-blue-800":l.status==="in_progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:l.status_label||l.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l.priority==="high"?"bg-red-100 text-red-800":l.priority==="medium"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:l.priority})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[w(l.deadline),l.days_until_deadline<30&&e.jsxs("span",{className:"ml-2 text-xs text-red-600",children:["(",l.days_until_deadline," days)"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("span",{className:l.estimated_balance>0?"text-red-600":"text-green-600",children:[j(Math.abs(l.estimated_balance||0)),e.jsx("span",{className:"text-xs ml-1",children:l.estimated_balance>0?"due":"refund"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:se(l.last_activity)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("button",{className:"text-teal-600 hover:text-teal-700 font-medium",children:"View"})})]},i))})]})})]})},Ge=({data:s})=>{var t,a;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{stage:"Documents Needed",count:(s==null?void 0:s.documents_needed)||0,color:"red"},{stage:"In Progress",count:(s==null?void 0:s.in_progress)||0,color:"yellow"},{stage:"Ready for Review",count:(s==null?void 0:s.ready_for_review)||0,color:"blue"},{stage:"Ready to File",count:(s==null?void 0:s.ready_to_file)||0,color:"green"}].map((r,n)=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("div",{className:`text-${r.color}-600 text-sm font-medium mb-2`,children:r.stage}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.count}),e.jsx("div",{className:"text-sm text-gray-500 mt-2",children:r.count>0?"clients":"Clear!"})]},n))}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Upcoming Deadlines"}),e.jsx("div",{className:"space-y-4",children:(t=s==null?void 0:s.upcoming_deadlines)==null?void 0:t.map((r,n)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`w-16 h-16 rounded-lg flex flex-col items-center justify-center ${r.days_until<7?"bg-red-100":"bg-blue-100"}`,children:[e.jsx("div",{className:`text-xs font-medium ${r.days_until<7?"text-red-600":"text-blue-600"}`,children:new Date(r.deadline).toLocaleDateString("en-US",{month:"short"})}),e.jsx("div",{className:`text-xl font-bold ${r.days_until<7?"text-red-600":"text-blue-600"}`,children:new Date(r.deadline).getDate()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:r.client_name}),e.jsx("div",{className:"text-sm text-gray-600",children:r.return_type}),e.jsx("div",{className:`text-xs mt-1 ${r.days_until<7?"text-red-600 font-medium":"text-gray-500"}`,children:r.days_until===0?"Due today!":r.days_until===1?"Due tomorrow":`${r.days_until} days remaining`})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm",children:"Work On This"})})]},n))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Your Tasks"}),e.jsx("div",{className:"space-y-3",children:(a=s==null?void 0:s.tasks)==null?void 0:a.map((r,n)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",checked:r.completed,className:"w-5 h-5 text-teal-600 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm ${r.completed?"line-through text-gray-500":"text-gray-900"}`,children:r.description}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[r.client_name," â€¢ ",r.category]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:w(r.due_date)})]},n))})]})]})},Qe=({data:s})=>{var t;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(g,{title:"Team Members",value:(s==null?void 0:s.team_size)||0,icon:"ðŸ‘¥",color:"blue"}),e.jsx(g,{title:"Returns This Month",value:(s==null?void 0:s.returns_this_month)||0,icon:"ðŸ“‹",color:"green"}),e.jsx(g,{title:"Avg. Time to File",value:`${(s==null?void 0:s.avg_days_to_file)||0} days`,icon:"â±ï¸",color:"purple"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Team Activity"}),e.jsx("div",{className:"space-y-4",children:(t=s==null?void 0:s.team_members)==null?void 0:t.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-blue-600",children:a.initials})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:a.name}),e.jsx("div",{className:"text-sm text-gray-600",children:a.role})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.active_clients}),e.jsx("div",{className:"text-xs text-gray-500",children:"Active Clients"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.returns_filed}),e.jsx("div",{className:"text-xs text-gray-500",children:"Returns Filed"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.hours_logged}),e.jsx("div",{className:"text-xs text-gray-500",children:"Hours Logged"})]})]})]},r))})]})]})},Ke=({data:s})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(g,{title:"Total Revenue YTD",value:j((s==null?void 0:s.revenue_ytd)||0),icon:"ðŸ’°",color:"green",trend:s==null?void 0:s.revenue_growth}),e.jsx(g,{title:"Avg. Fee per Return",value:j((s==null?void 0:s.avg_fee)||0),icon:"ðŸ“Š",color:"blue"}),e.jsx(g,{title:"Client Retention",value:`${(s==null?void 0:s.retention_rate)||0}%`,icon:"ðŸ”„",color:"purple"}),e.jsx(g,{title:"Client Satisfaction",value:`${(s==null?void 0:s.satisfaction_score)||0}/5.0`,icon:"â­",color:"orange"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Revenue Trend"}),e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"Revenue chart visualization"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Returns by Type"}),e.jsx("div",{className:"h-48 flex items-center justify-center text-gray-400",children:"Pie chart visualization"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Client Acquisition"}),e.jsx("div",{className:"h-48 flex items-center justify-center text-gray-400",children:"Line chart visualization"})]})]})]}),z=()=>{const{user:s}=v(),[t,a]=x.useState(null),[r,n]=x.useState(!0),[l,i]=x.useState("overview");x.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const c=await P.getAdminDashboard();a(c)}catch(c){console.error("Failed to load dashboard:",c)}finally{n(!1)}};return r?e.jsx(S,{message:"Loading admin dashboard..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg shadow-lg p-6 text-white",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Control Panel"}),e.jsx("p",{className:"mt-1 opacity-90",children:"System-wide management and analytics"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"px-4 py-2 bg-white text-purple-600 rounded-lg hover:bg-gray-100 font-medium",children:"System Health"}),e.jsx("button",{className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-400",children:"Settings"})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mt-6",children:[{label:"API Status",value:"Operational",color:"green"},{label:"DB Performance",value:"98%",color:"green"},{label:"Integration Sync",value:"Active",color:"green"},{label:"Error Rate",value:"0.02%",color:"green"}].map((c,m)=>e.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm opacity-90",children:c.label}),e.jsx("div",{className:"text-xl font-bold mt-1",children:c.value})]},m))})]}),e.jsx(Xe,{data:t==null?void 0:t.kpis}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[{id:"overview",label:"Overview",icon:"ðŸ“Š"},{id:"users",label:"Users",icon:"ðŸ‘¥"},{id:"integrations",label:"Integrations",icon:"ðŸ”—"},{id:"billing",label:"Billing",icon:"ðŸ’³"},{id:"analytics",label:"Analytics",icon:"ðŸ“ˆ"},{id:"settings",label:"Settings",icon:"âš™ï¸"}].map(c=>e.jsxs("button",{onClick:()=>i(c.id),className:`
                                    py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap
                                    ${l===c.id?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                                `,children:[e.jsx("span",{className:"mr-2",children:c.icon}),c.label]},c.id))})}),e.jsxs("div",{className:"p-6",children:[l==="overview"&&e.jsx(Ze,{data:t}),l==="users"&&e.jsx(rs,{data:t==null?void 0:t.users}),l==="integrations"&&e.jsx(as,{data:t==null?void 0:t.integrations}),l==="billing"&&e.jsx(ls,{data:t==null?void 0:t.billing}),l==="analytics"&&e.jsx(ns,{data:t==null?void 0:t.analytics}),l==="settings"&&e.jsx(is,{data:t==null?void 0:t.settings})]})]})]})},Xe=({data:s})=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[e.jsx(N,{title:"Total Users",value:s==null?void 0:s.total_users,icon:"ðŸ‘¥",trend:s==null?void 0:s.user_growth,color:"blue"}),e.jsx(N,{title:"Active Businesses",value:s==null?void 0:s.active_businesses,icon:"ðŸ¢",color:"green"}),e.jsx(N,{title:"MRR",value:j(s==null?void 0:s.mrr),icon:"ðŸ’°",trend:s==null?void 0:s.revenue_growth,color:"purple"}),e.jsx(N,{title:"Returns Filed YTD",value:s==null?void 0:s.returns_filed_ytd,icon:"ðŸ“„",color:"orange"}),e.jsx(N,{title:"API Uptime",value:`${s==null?void 0:s.api_uptime}%`,icon:"âš¡",color:"green"}),e.jsx(N,{title:"Support Tickets",value:s==null?void 0:s.open_tickets,icon:"ðŸŽ«",color:"red"})]}),N=({title:s,value:t,icon:a,trend:r,color:n})=>{const l={blue:"bg-blue-50 border-blue-200 text-blue-900",green:"bg-green-50 border-green-200 text-green-900",purple:"bg-purple-50 border-purple-200 text-purple-900",orange:"bg-orange-50 border-orange-200 text-orange-900",red:"bg-red-50 border-red-200 text-red-900"};return e.jsxs("div",{className:`${l[n]} border rounded-lg p-4`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-2xl",children:a}),r&&e.jsxs("span",{className:`text-xs font-semibold ${r>0?"text-green-600":"text-red-600"}`,children:[r>0?"â†‘":"â†“"," ",Math.abs(r),"%"]})]}),e.jsx("div",{className:"text-2xl font-bold",children:t}),e.jsx("div",{className:"text-sm opacity-75 mt-1",children:s})]})},Ze=({data:s})=>{var t,a;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(es,{health:s==null?void 0:s.system_health}),e.jsx(ss,{activity:s==null?void 0:s.realtime_activity})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Growth Metrics"}),e.jsx("div",{className:"grid grid-cols-4 gap-6",children:(t=s==null?void 0:s.growth_metrics)==null?void 0:t.map((r,n)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.value}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:r.label}),e.jsxs("div",{className:`text-sm mt-1 ${r.change>0?"text-green-600":"text-red-600"}`,children:[r.change>0?"â†‘":"â†“"," ",Math.abs(r.change),"%"]})]},n))})]}),e.jsx(ts,{alerts:s==null?void 0:s.critical_alerts}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Recent Admin Actions"}),e.jsx("div",{className:"space-y-2",children:(a=s==null?void 0:s.recent_admin_actions)==null?void 0:a.map((r,n)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:r.icon}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:r.admin_name}),e.jsxs("span",{className:"text-gray-600",children:[" ",r.action]})]})]}),e.jsx("span",{className:"text-gray-500",children:r.time_ago})]},n))})]})]})},es=({health:s})=>{var r;const t=n=>n>=95?"green":n>=80?"yellow":"red",a=t(s==null?void 0:s.overall_score);return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"System Health"}),e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"relative w-40 h-40",children:[e.jsxs("svg",{className:"transform -rotate-90 w-40 h-40",children:[e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"10",fill:"transparent",className:"text-gray-200"}),e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"currentColor",strokeWidth:"10",fill:"transparent",strokeDasharray:`${2*Math.PI*70}`,strokeDashoffset:`${2*Math.PI*70*(1-(s==null?void 0:s.overall_score)/100)}`,className:`text-${a}-600 transition-all duration-1000`})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"text-4xl font-bold text-gray-900",children:s==null?void 0:s.overall_score}),e.jsx("div",{className:"text-sm text-gray-600",children:"Health Score"})]})]})}),e.jsx("div",{className:"space-y-3",children:(r=s==null?void 0:s.components)==null?void 0:r.map((n,l)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full bg-${t(n.status)}-500`}),e.jsx("span",{className:"text-sm text-gray-700",children:n.name})]}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[n.status,"%"]})]},l))})]})},ss=({activity:s})=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Real-time Activity"}),e.jsx("div",{className:"space-y-4",children:s==null?void 0:s.map((t,a)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${t.type==="success"?"bg-green-500":t.type==="error"?"bg-red-500":"bg-blue-500"} animate-pulse`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.event}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:t.details}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.timestamp})]})]},a))})]}),ts=({alerts:s})=>!s||s.length===0?e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:"âœ…"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900",children:"All Systems Operational"}),e.jsx("p",{className:"text-sm text-green-700",children:"No critical alerts at this time"})]})]})}):e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"âš ï¸ Critical Alerts"}),e.jsx("div",{className:"space-y-3",children:s.map((t,a)=>e.jsxs("div",{className:`flex items-start gap-4 p-4 border rounded-lg ${t.severity==="critical"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:t.time_ago})]}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm whitespace-nowrap",children:"Resolve"})]},a))})]}),rs=({data:s})=>{var l;const[t,a]=x.useState(""),[r,n]=x.useState("all");return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{label:"Total Users",value:s==null?void 0:s.total_users,color:"blue"},{label:"Active Today",value:s==null?void 0:s.active_today,color:"green"},{label:"New This Month",value:s==null?void 0:s.new_this_month,color:"purple"},{label:"Churned",value:s==null?void 0:s.churned,color:"red"}].map((i,o)=>e.jsxs("div",{className:`bg-${i.color}-50 border border-${i.color}-200 rounded-lg p-4`,children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i.value}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:i.label})]},o))}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"User Management"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",placeholder:"Search users...",value:t,onChange:i=>a(i.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg w-64"}),e.jsxs("select",{value:r,onChange:i=>n(i.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"taxpayer",children:"Taxpayers"}),e.jsx("option",{value:"business_owner",children:"Business Owners"}),e.jsx("option",{value:"tax_professional",children:"Tax Professionals"}),e.jsx("option",{value:"admin",children:"Admins"})]}),e.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"+ Add User"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Active"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Joined"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(l=s==null?void 0:s.users)==null?void 0:l.map(i=>{var o,c;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:e.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[(o=i.first_name)==null?void 0:o[0],(c=i.last_name)==null?void 0:c[0]]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[i.first_name," ",i.last_name]}),e.jsx("div",{className:"text-sm text-gray-600",children:i.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-3 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800",children:i.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${i.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:i.last_active_ago}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:w(i.created_at)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:[e.jsx("button",{className:"text-purple-600 hover:text-purple-900 mr-3",children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:"Suspend"})]})]},i.user_id)})})]})})]})]})},as=({data:s})=>{var t,a;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(t=s==null?void 0:s.integrations)==null?void 0:t.map((r,n)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:r.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:r.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r.connections_count," connections"]})]})]}),e.jsx("div",{className:`w-3 h-3 rounded-full ${r.status==="healthy"?"bg-green-500":r.status==="degraded"?"bg-yellow-500":"bg-red-500"}`})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Success Rate:"}),e.jsxs("span",{className:"font-medium",children:[r.success_rate,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg Response:"}),e.jsxs("span",{className:"font-medium",children:[r.avg_response_time,"ms"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Last Sync:"}),e.jsx("span",{className:"font-medium",children:r.last_sync_ago})]})]}),r.recent_errors>0&&e.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded text-sm text-red-800",children:[r.recent_errors," errors in last 24h"]})]},n))}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"API Rate Limit Usage"}),e.jsx("div",{className:"space-y-4",children:(a=s==null?void 0:s.rate_limits)==null?void 0:a.map((r,n)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:r.name}),e.jsxs("span",{className:"text-gray-600",children:[r.used," / ",r.limit," requests"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`rounded-full h-2 ${r.percentage>90?"bg-red-600":r.percentage>75?"bg-yellow-600":"bg-green-600"}`,style:{width:`${r.percentage}%`}})})]},n))})]})]})},ls=({data:s})=>{var t,a;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{label:"MRR",value:j(s==null?void 0:s.mrr),change:"+12%",color:"purple"},{label:"ARR",value:j(s==null?void 0:s.arr),change:"+18%",color:"blue"},{label:"Churn Rate",value:`${s==null?void 0:s.churn_rate}%`,change:"-0.5%",color:"green"},{label:"LTV",value:j(s==null?void 0:s.ltv),change:"+8%",color:"orange"}].map((r,n)=>e.jsxs("div",{className:`bg-${r.color}-50 border border-${r.color}-200 rounded-lg p-6`,children:[e.jsx("div",{className:"text-sm text-gray-600",children:r.label}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:r.value}),e.jsx("div",{className:"text-sm text-green-600 mt-1",children:r.change})]},n))}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Subscription Tiers"}),e.jsx("div",{className:"grid grid-cols-3 gap-6",children:(t=s==null?void 0:s.tiers)==null?void 0:t.map((r,n)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:r.name}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-4",children:r.subscriber_count}),e.jsxs("div",{className:"text-sm text-gray-600",children:[j(r.mrr)," MRR"]})]},n))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Recent Transactions"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(a=s==null?void 0:s.recent_transactions)==null?void 0:a.map((r,n)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w(r.date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.customer_name}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:r.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-gray-900",children:j(r.amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${r.status==="succeeded"?"bg-green-100 text-green-800":r.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.status})})]},n))})]})})]})]})},ns=({data:s})=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"System Analytics"}),e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"text-lg",children:"Advanced analytics dashboard"}),e.jsx("p",{className:"text-sm mt-2",children:"Integration with analytics library needed"})]})]})}),is=({data:s})=>{var t,a;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Feature Flags"}),e.jsx("div",{className:"space-y-3",children:(t=s==null?void 0:s.feature_flags)==null?void 0:t.map((r,n)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.description})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.enabled,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]},n))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"System Configuration"}),e.jsx("div",{className:"space-y-4",children:(a=s==null?void 0:s.system_config)==null?void 0:a.map((r,n)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:r.key}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:r.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-mono text-sm text-gray-900",children:r.value}),e.jsx("button",{className:"text-sm text-purple-600 hover:text-purple-700 mt-1",children:"Edit"})]})]},n))})]})]})},os=()=>{const[s,t]=x.useState(""),[a,r]=x.useState(""),[n,l]=x.useState(""),[i,o]=x.useState(!1),{login:c}=v(),m=D(),d=async h=>{h.preventDefault(),l(""),o(!0);try{await c(s,a),m("/dashboard")}catch(b){l(b.message||"Login failed. Please check your credentials.")}finally{o(!1)}},u=async h=>{l(""),o(!0);const C={taxpayer:{email:"taxpayer@tax.com",password:"taxpayer123"},business_owner:{email:"taxpayer@tax.com",password:"taxpayer123"},tax_professional:{email:"preparer@tax.com",password:"preparer123"},admin:{email:"admin@tax.com",password:"admin123"}}[h];try{await c(C.email,C.password),m("/dashboard")}catch(B){l(B.message||"Login failed")}finally{o(!1)}},p=h=>{window.location.href=`/dashboard?role=${h}`};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tax Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Sign in to access your account"})]}),n&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:n}),e.jsxs("form",{onSubmit:d,className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:s,onChange:h=>t(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:a,onChange:h=>r(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",required:!0})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 font-medium transition-colors",children:i?"Signing in...":"Sign In"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or use quick login"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>u("taxpayer"),disabled:i,className:"w-full px-4 py-2 bg-white border-2 border-blue-500 text-blue-600 rounded-lg hover:bg-blue-50 disabled:opacity-50 text-sm font-medium transition-colors",children:"ðŸ§‘ Taxpayer (taxpayer@tax.com)"}),e.jsx("button",{onClick:()=>p("business_owner"),disabled:i,className:"w-full px-4 py-2 bg-white border-2 border-indigo-500 text-indigo-600 rounded-lg hover:bg-indigo-50 disabled:opacity-50 text-sm font-medium transition-colors",children:"ðŸ¢ Business Owner (Demo Mode)"}),e.jsx("button",{onClick:()=>u("tax_professional"),disabled:i,className:"w-full px-4 py-2 bg-white border-2 border-purple-500 text-purple-600 rounded-lg hover:bg-purple-50 disabled:opacity-50 text-sm font-medium transition-colors",children:"ðŸ‘” Tax Professional (preparer@tax.com)"}),e.jsx("button",{onClick:()=>u("admin"),disabled:i,className:"w-full px-4 py-2 bg-white border-2 border-gray-500 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 text-sm font-medium transition-colors",children:"âš™ï¸ Admin (admin@tax.com)"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Demo credentials: Use quick login buttons above"})})]})})},E=({onClose:s,onSuccess:t})=>{const[a,r]=x.useState(!1),[n,l]=x.useState(null),i=async()=>{try{r(!0),l(null);const o=localStorage.getItem("auth_token"),c=JSON.parse(localStorage.getItem("user")||"{}"),m=await fetch("http://localhost:3001/api/v1/integrations/finch/connect",{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({taxpayerId:c.userId})});if(!m.ok)throw new Error("Failed to initiate Finch connection");const d=await m.json();window.location.href=d.authorizationUrl}catch(o){console.error("Finch connect error:",o),l(o.message||"Failed to connect to Finch"),r(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Connect Finch"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-teal-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-teal-800",children:"About Finch"}),e.jsx("p",{className:"mt-1 text-sm text-teal-700",children:"Finch connects to 200+ payroll providers including ADP, Gusto, Paychex, and more. You'll be able to import employee data, pay runs, and W-2 forms automatically."})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"What you'll share:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-teal-600 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Company information and employee directory"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-teal-600 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Payroll runs and payment details"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-teal-600 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Tax forms (W-2, 1099, etc.)"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-teal-600 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Employment and compensation data"]})]})]}),n&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-md p-3",children:e.jsx("p",{className:"text-sm text-red-800",children:n})})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:a,children:"Cancel"}),e.jsx("button",{onClick:i,className:"flex-1 px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 disabled:bg-teal-300",disabled:a,children:a?e.jsx("span",{className:"flex items-center justify-center",children:e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):"Connect with Finch"})]}),e.jsx("p",{className:"mt-4 text-xs text-gray-500 text-center",children:"Secure connection powered by Finch. Your credentials are never stored."})]})})},cs=()=>{const[s,t]=x.useState([]),[a,r]=x.useState(!0),[n,l]=x.useState(!1);x.useEffect(()=>{i()},[]);const i=async()=>{try{r(!0);const m=localStorage.getItem("auth_token"),d=await fetch("http://localhost:3001/api/v1/integrations/connections",{headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}});if(d.ok){const u=await d.json();t(u.connections||[])}}catch(m){console.error("Failed to fetch connections:",m)}finally{r(!1)}},o=()=>{l(!1),i()},c=async m=>{try{const d=localStorage.getItem("auth_token"),u=await fetch(`http://localhost:3001/api/v1/integrations/finch/sync/${m}`,{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});if(u.ok){const p=await u.json();alert(`Sync started! Job ID: ${p.jobId}`)}}catch(d){console.error("Sync failed:",d),alert("Failed to start sync")}};return a?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"spinner"})}):e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Integration Hub"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Connect your payroll, accounting, and financial accounts"})]}),e.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700",children:"+ Add Integration"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-teal-500 transition-colors cursor-pointer",onClick:()=>l(!0),children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"ml-3 font-semibold text-gray-900",children:"Finch"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Connect payroll providers like ADP, Gusto, Paychex, and more"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 opacity-50 cursor-not-allowed",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e.jsx("h3",{className:"ml-3 font-semibold text-gray-400",children:"QuickBooks"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Coming soon - Connect accounting data"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 opacity-50 cursor-not-allowed",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsx("h3",{className:"ml-3 font-semibold text-gray-400",children:"Plaid"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Coming soon - Connect bank accounts"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Active Connections"}),s.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No connections"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by connecting your first integration"})]}):e.jsx("div",{className:"space-y-3",children:s.map(m=>{var d;return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-teal-600 font-bold text-sm",children:m.provider.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 capitalize",children:m.provider}),e.jsx("p",{className:"text-xs text-gray-500",children:((d=m.metadata)==null?void 0:d.company_name)||"Connected"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${m.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m.status}),e.jsx("button",{onClick:()=>c(m.id),className:"px-3 py-1 text-xs font-medium text-teal-600 hover:text-teal-700 border border-teal-600 rounded-md hover:bg-teal-50",children:"Sync Now"})]})]}),m.lastSyncAt&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last synced: ",new Date(m.lastSyncAt).toLocaleString()]})]},m.id)})})]})]}),n&&e.jsx(E,{onClose:()=>l(!1),onSuccess:o})]})},ds=()=>{const[s]=U(),t=D(),[a,r]=x.useState("processing"),[n,l]=x.useState("Completing Finch connection...");x.useEffect(()=>{i()},[]);const i=async()=>{var d;const o=s.get("code"),c=s.get("state"),m=s.get("error");if(m){r("error"),l(`Connection failed: ${m}`),setTimeout(()=>t("/dashboard"),3e3);return}if(!o||!c){r("error"),l("Invalid callback parameters"),setTimeout(()=>t("/dashboard"),3e3);return}try{const u=await fetch(`http://localhost:3001/api/v1/integrations/finch/callback?code=${o}&state=${c}`);if(u.ok){const p=await u.json();r("success"),l(`Successfully connected to ${((d=p.company)==null?void 0:d.name)||"your payroll provider"}!`),setTimeout(()=>{t("/integrations")},2e3)}else throw new Error("Failed to complete connection")}catch(u){console.error("Callback error:",u),r("error"),l("Failed to complete connection. Please try again."),setTimeout(()=>t("/integrations"),3e3)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:e.jsxs("div",{className:"text-center",children:[a==="processing"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto w-16 h-16 mb-4",children:e.jsxs("svg",{className:"animate-spin h-16 w-16 text-teal-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Processing Connection"})]}),a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto w-16 h-16 mb-4 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connection Successful!"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto w-16 h-16 mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connection Failed"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:n}),e.jsx("div",{className:"text-sm text-gray-500",children:"Redirecting you back..."})]})})})},T=({children:s,allowedRoles:t})=>{const{user:a,loading:r}=v();return r?e.jsx(S,{}):a?t&&!t.includes(a.role)?e.jsx($,{to:"/dashboard",replace:!0}):s:e.jsx($,{to:"/login",replace:!0})},xs=()=>{const{user:s}=v();return s.role==="taxpayer"?e.jsx(te,{}):s.role==="business_owner"?e.jsx(ke,{}):s.role==="tax_professional"?e.jsx(Je,{}):s.role==="admin"?e.jsx(z,{}):e.jsx($,{to:"/login",replace:!0})};function ms(){return e.jsxs(H,{children:[e.jsx(y,{path:"/login",element:e.jsx(os,{})}),e.jsx(y,{path:"/dashboard",element:e.jsx(T,{children:e.jsx(xs,{})})}),e.jsx(y,{path:"/integrations",element:e.jsx(T,{children:e.jsx(cs,{})})}),e.jsx(y,{path:"/integrations/finch/connect",element:e.jsx(T,{children:e.jsx(E,{})})}),e.jsx(y,{path:"/integrations/finch/callback",element:e.jsx(ds,{})}),e.jsx(y,{path:"/admin",element:e.jsx(T,{allowedRoles:["admin"],children:e.jsx(z,{})})}),e.jsx(y,{path:"/",element:e.jsx($,{to:"/dashboard",replace:!0})}),e.jsx(y,{path:"*",element:e.jsx("div",{children:"404 - Page Not Found"})})]})}function hs(){return e.jsx(q,{children:e.jsx(ee,{children:e.jsx(ms,{})})})}A.createRoot(document.getElementById("root")).render(e.jsx(W.StrictMode,{children:e.jsx(hs,{})}));
//# sourceMappingURL=index-zXncbxYA.js.map
