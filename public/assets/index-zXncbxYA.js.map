{"version":3,"file":"index-zXncbxYA.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/utils/api.js","../../src/contexts/AuthContext.jsx","../../src/services/dashboard.js","../../src/utils/formatters.js","../../src/components/shared/LoadingSpinner.jsx","../../src/components/Dashboard/TaxpayerDashboardEnhanced.jsx","../../src/components/Dashboard/BusinessOwnerDashboardEnhanced.jsx","../../src/components/shared/StatCard.jsx","../../src/components/Dashboard/TaxProfessionalDashboard.jsx","../../src/components/Dashboard/AdminDashboard.jsx","../../src/components/Login.jsx","../../src/components/FinchConnect.jsx","../../src/components/IntegrationHub.jsx","../../src/components/FinchCallback.jsx","../../src/App.jsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * API Client Utility\n * Handles all HTTP requests to the backend API\n */\n\nconst API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:3001';\n\n/**\n * Makes an HTTP request to the backend API\n * @param {string} endpoint - API endpoint (e.g., '/api/v1/auth/login')\n * @param {object} options - Fetch options\n * @returns {Promise<any>} Response data\n */\nasync function apiRequest(endpoint, options = {}) {\n  const url = `${API_BASE_URL}${endpoint}`;\n\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers,\n    },\n    ...options,\n  };\n\n  // Add auth token if available\n  const token = localStorage.getItem('authToken');\n  if (token) {\n    config.headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  try {\n    const response = await fetch(url, config);\n\n    // Handle non-JSON responses\n    const contentType = response.headers.get('content-type');\n    let data;\n    if (contentType && contentType.includes('application/json')) {\n      data = await response.json();\n    } else {\n      data = await response.text();\n    }\n\n    if (!response.ok) {\n      throw new Error(data.error || data.message || `HTTP error! status: ${response.status}`);\n    }\n\n    return data;\n  } catch (error) {\n    console.error(`API request failed for ${endpoint}:`, error);\n    throw error;\n  }\n}\n\n/**\n * Authentication API\n */\nexport const authAPI = {\n  /**\n   * Login user\n   * @param {string} email\n   * @param {string} password\n   * @returns {Promise<{user, token}>}\n   */\n  login: async (email, password) => {\n    const data = await apiRequest('/api/v1/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    });\n\n    // Store token in localStorage\n    if (data.token) {\n      localStorage.setItem('authToken', data.token);\n    }\n\n    return data;\n  },\n\n  /**\n   * Register new user\n   * @param {object} userData - User registration data\n   * @returns {Promise<{user, token}>}\n   */\n  register: async (userData) => {\n    const data = await apiRequest('/api/v1/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData),\n    });\n\n    // Store token in localStorage\n    if (data.token) {\n      localStorage.setItem('authToken', data.token);\n    }\n\n    return data;\n  },\n\n  /**\n   * Get current user profile\n   * @returns {Promise<object>} User profile\n   */\n  getProfile: async () => {\n    return await apiRequest('/api/v1/auth/profile');\n  },\n\n  /**\n   * Logout user\n   */\n  logout: () => {\n    localStorage.removeItem('authToken');\n  },\n};\n\n/**\n * Dashboard API\n */\nexport const dashboardAPI = {\n  /**\n   * Get taxpayer dashboard data\n   * @param {string} taxpayerId\n   * @param {number} taxYear\n   * @returns {Promise<object>}\n   */\n  getTaxpayerDashboard: async (taxpayerId, taxYear = 2024) => {\n    return await apiRequest(`/api/v1/dashboard/taxpayer?taxpayer_id=${taxpayerId}&tax_year=${taxYear}`);\n  },\n\n  /**\n   * Get business dashboard data\n   * @param {string} businessId\n   * @param {number} taxYear\n   * @returns {Promise<object>}\n   */\n  getBusinessDashboard: async (businessId, taxYear = 2024) => {\n    return await apiRequest(`/api/v1/dashboard/business/${businessId}?tax_year=${taxYear}`);\n  },\n\n  /**\n   * Get tax professional dashboard data\n   * @returns {Promise<object>}\n   */\n  getTaxProDashboard: async () => {\n    return await apiRequest('/api/v1/dashboard/professional');\n  },\n\n  /**\n   * Get admin dashboard data\n   * @returns {Promise<object>}\n   */\n  getAdminDashboard: async () => {\n    return await apiRequest('/api/v1/dashboard/admin');\n  },\n\n  /**\n   * Get admin metrics\n   * @returns {Promise<object>}\n   */\n  getAdminMetrics: async () => {\n    return await apiRequest('/api/v1/dashboard/admin/metrics');\n  },\n};\n\n/**\n * Integration API\n */\nexport const integrationAPI = {\n  /**\n   * Get Finch authorization URL\n   * @returns {Promise<{url: string}>}\n   */\n  getFinchAuthUrl: async () => {\n    return await apiRequest('/api/v1/integrations/finch/auth-url');\n  },\n\n  /**\n   * Exchange Finch code for access token\n   * @param {string} code\n   * @returns {Promise<object>}\n   */\n  exchangeFinchCode: async (code) => {\n    return await apiRequest('/api/v1/integrations/finch/callback', {\n      method: 'POST',\n      body: JSON.stringify({ code }),\n    });\n  },\n\n  /**\n   * Sync Finch data\n   * @param {string} connectionId\n   * @returns {Promise<object>}\n   */\n  syncFinchData: async (connectionId) => {\n    return await apiRequest(`/api/v1/integrations/finch/sync/${connectionId}`, {\n      method: 'POST',\n    });\n  },\n};\n\n/**\n * Utility function to check if user is authenticated\n * @returns {boolean}\n */\nexport const isAuthenticated = () => {\n  return !!localStorage.getItem('authToken');\n};\n\n/**\n * Get stored auth token\n * @returns {string|null}\n */\nexport const getAuthToken = () => {\n  return localStorage.getItem('authToken');\n};\n\nexport default {\n  authAPI,\n  dashboardAPI,\n  integrationAPI,\n  isAuthenticated,\n  getAuthToken,\n};\n","import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { authAPI, isAuthenticated as checkAuth } from '../utils/api';\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => {\n    const context = useContext(AuthContext);\n    if (!context) {\n        throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n};\n\nexport const AuthProvider = ({ children }) => {\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [selectedEntity, setSelectedEntity] = useState(null); // For business owners with multiple entities\n\n    useEffect(() => {\n        loadUser();\n    }, []);\n\n    const loadUser = async () => {\n        try {\n            // Check for demo mode from URL\n            const urlParams = new URLSearchParams(window.location.search);\n            const demoRole = urlParams.get('role');\n\n            if (demoRole) {\n                // Demo mode - create mock user based on role\n                const demoUser = {\n                    userId: 'demo-' + demoRole,\n                    name: demoRole === 'taxpayer' ? 'Michael Anderson' :\n                          demoRole === 'business_owner' ? 'John Smith' :\n                          demoRole === 'tax_professional' ? 'Jennifer Martinez' :\n                          'Admin User',\n                    firstName: demoRole === 'taxpayer' ? 'Michael' :\n                               demoRole === 'business_owner' ? 'John' :\n                               demoRole === 'tax_professional' ? 'Jennifer' :\n                               'Admin',\n                    lastName: demoRole === 'taxpayer' ? 'Anderson' :\n                              demoRole === 'business_owner' ? 'Smith' :\n                              demoRole === 'tax_professional' ? 'Martinez' :\n                              'User',\n                    role: demoRole,\n                    email: `demo@${demoRole}.com`,\n                };\n\n                setUser(demoUser);\n                setLoading(false);\n                return;\n            }\n\n            // Check if authenticated\n            if (!checkAuth()) {\n                setLoading(false);\n                return;\n            }\n\n            // Load user profile from backend\n            const userData = await authAPI.getProfile();\n            setUser(userData);\n\n            // Set default entity for business owners\n            if (userData.role === 'business_owner' && userData.entities?.length > 0) {\n                setSelectedEntity(userData.entities[0]);\n            }\n        } catch (error) {\n            console.error('Failed to load user:', error);\n            authAPI.logout();\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const login = async (email, password) => {\n        try {\n            const response = await authAPI.login(email, password);\n            setUser(response.user);\n            return response.user;\n        } catch (error) {\n            console.error('Login failed:', error);\n            throw error;\n        }\n    };\n\n    const logout = () => {\n        authAPI.logout();\n        setUser(null);\n        setSelectedEntity(null);\n    };\n\n    const switchEntity = (entity) => {\n        setSelectedEntity(entity);\n    };\n\n    return (\n        <AuthContext.Provider value={{\n            user,\n            loading,\n            selectedEntity,\n            login,\n            logout,\n            switchEntity,\n            isAuthenticated: !!user,\n            isTaxpayer: user?.role === 'taxpayer',\n            isBusinessOwner: user?.role === 'business_owner',\n            isTaxProfessional: user?.role === 'tax_professional',\n            isAdmin: user?.role === 'admin',\n        }}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n","import { dashboardAPI } from '../utils/api';\n\nexport const dashboardService = {\n    // ==========================================\n    // TAXPAYER DASHBOARD\n    // ==========================================\n    getTaxpayerDashboard: async (taxpayerId, taxYear) => {\n        return await dashboardAPI.getTaxpayerDashboard(taxpayerId, taxYear);\n    },\n\n    // ==========================================\n    // BUSINESS OWNER DASHBOARD\n    // ==========================================\n    getBusinessDashboard: async (businessId, taxYear) => {\n        return await dashboardAPI.getBusinessDashboard(businessId, taxYear);\n    },\n\n    // ==========================================\n    // TAX PROFESSIONAL DASHBOARD\n    // ==========================================\n    getTaxProDashboard: async () => {\n        return await dashboardAPI.getTaxProDashboard();\n    },\n\n    getClientDetails: async (clientId) => {\n        const response = await api.get(`/dashboard/tax-professional/clients/${clientId}`);\n        return response.data;\n    },\n\n    updateClientStatus: async (clientId, status) => {\n        const response = await api.patch(`/dashboard/tax-professional/clients/${clientId}/status`, {\n            status\n        });\n        return response.data;\n    },\n\n    assignTask: async (taskData) => {\n        const response = await api.post('/dashboard/tax-professional/tasks', taskData);\n        return response.data;\n    },\n\n    // ==========================================\n    // ADMIN DASHBOARD\n    // ==========================================\n    getAdminDashboard: async () => {\n        return await dashboardAPI.getAdminDashboard();\n    },\n\n    getSystemHealth: async () => {\n        const response = await api.get('/dashboard/admin/health');\n        return response.data;\n    },\n\n    getUserManagement: async (filters) => {\n        const response = await api.get('/dashboard/admin/users', { params: filters });\n        return response.data;\n    },\n\n    updateUserStatus: async (userId, status) => {\n        const response = await api.patch(`/dashboard/admin/users/${userId}/status`, { status });\n        return response.data;\n    },\n\n    getIntegrationHealth: async () => {\n        const response = await api.get('/dashboard/admin/integrations/health');\n        return response.data;\n    },\n\n    getBillingMetrics: async () => {\n        const response = await api.get('/dashboard/admin/billing');\n        return response.data;\n    },\n\n    updateFeatureFlag: async (flagId, enabled) => {\n        const response = await api.patch(`/dashboard/admin/feature-flags/${flagId}`, { enabled });\n        return response.data;\n    },\n\n    // ==========================================\n    // TAX SOFTWARE INTEGRATION\n    // ==========================================\n    getTaxSoftwareIntegrations: async () => {\n        const response = await api.get('/dashboard/integrations/tax-software');\n        return response.data;\n    },\n\n    connectTaxSoftware: async (softwareName, credentials) => {\n        const response = await api.post('/dashboard/integrations/tax-software/connect', {\n            software: softwareName,\n            credentials\n        });\n        return response.data;\n    },\n\n    syncDataToTaxSoftware: async (clientId, options) => {\n        const response = await api.post('/dashboard/integrations/tax-software/sync', {\n            client_id: clientId,\n            sync_options: options\n        });\n        return response.data;\n    },\n\n    getSyncStatus: async (clientId) => {\n        const response = await api.get(`/dashboard/integrations/tax-software/sync-status/${clientId}`);\n        return response.data;\n    },\n\n    // ==========================================\n    // TAXPAYER SIMULATIONS\n    // ==========================================\n    runTaxpayerSimulation: async (simulationType, inputs) => {\n        const response = await api.post('/dashboard/taxpayer/simulations', {\n            simulation_type: simulationType,\n            inputs\n        });\n        return response.data;\n    },\n\n    saveSimulationScenario: async (simulationData) => {\n        const response = await api.post('/dashboard/simulations/save', simulationData);\n        return response.data;\n    },\n\n    getSimulationHistory: async (userId) => {\n        const response = await api.get(`/dashboard/simulations/history/${userId}`);\n        return response.data;\n    },\n\n    shareSimulationWithPreparer: async (simulationId, preparerId) => {\n        const response = await api.post('/dashboard/simulations/share', {\n            simulation_id: simulationId,\n            preparer_id: preparerId\n        });\n        return response.data;\n    },\n\n    exportSimulationPDF: async (simulationId) => {\n        const response = await api.get(`/dashboard/simulations/${simulationId}/export`, {\n            responseType: 'blob'\n        });\n        return response.data;\n    },\n\n    // ==========================================\n    // TAX PREPARER SIMULATIONS\n    // ==========================================\n    runPreparerSimulation: async (clientId, simulationType, inputs) => {\n        const response = await api.post('/dashboard/tax-professional/simulations', {\n            client_id: clientId,\n            simulation_type: simulationType,\n            inputs\n        });\n        return response.data;\n    },\n\n    getClientSimulations: async (clientId) => {\n        const response = await api.get(`/dashboard/tax-professional/clients/${clientId}/simulations`);\n        return response.data;\n    },\n\n    runMultiYearProjection: async (clientId, years) => {\n        const response = await api.post('/dashboard/tax-professional/projections', {\n            client_id: clientId,\n            projection_years: years\n        });\n        return response.data;\n    },\n\n    runRothConversionAnalysis: async (clientId, conversionData) => {\n        const response = await api.post('/dashboard/tax-professional/roth-analysis', {\n            client_id: clientId,\n            conversion_data: conversionData\n        });\n        return response.data;\n    },\n\n    runSocialSecurityOptimization: async (clientId, clientData) => {\n        const response = await api.post('/dashboard/tax-professional/ss-optimization', {\n            client_id: clientId,\n            client_data: clientData\n        });\n        return response.data;\n    },\n\n    // ==========================================\n    // AI TAX ASSISTANT (NO PII)\n    // ==========================================\n    askTaxQuestion: async (question, context) => {\n        const response = await api.post('/dashboard/ai-assistant/question', {\n            question,\n            context  // Optional: jurisdiction, year, etc.\n        });\n        return response.data;\n    },\n\n    runQuickScenario: async (scenarioInputs) => {\n        const response = await api.post('/dashboard/ai-assistant/scenario', scenarioInputs);\n        return response.data;\n    },\n\n    searchTaxLaw: async (searchTerm, jurisdiction) => {\n        const response = await api.get('/dashboard/ai-assistant/tax-law-search', {\n            params: { query: searchTerm, jurisdiction }\n        });\n        return response.data;\n    },\n\n    getFormInstructions: async (formNumber) => {\n        const response = await api.get(`/dashboard/ai-assistant/form-instructions/${formNumber}`);\n        return response.data;\n    },\n\n    // ==========================================\n    // RESOLUTION CENTER\n    // ==========================================\n    getClientNotices: async (clientId) => {\n        const response = await api.get(`/dashboard/resolution/notices/${clientId}`);\n        return response.data;\n    },\n\n    createNoticeCase: async (clientId, noticeData) => {\n        const response = await api.post('/dashboard/resolution/notices/create', {\n            client_id: clientId,\n            notice_data: noticeData\n        });\n        return response.data;\n    },\n\n    updateNoticeStatus: async (noticeId, status, notes) => {\n        const response = await api.patch(`/dashboard/resolution/notices/${noticeId}`, {\n            status,\n            notes\n        });\n        return response.data;\n    },\n\n    generateResponseLetter: async (noticeId, responseType) => {\n        const response = await api.post('/dashboard/resolution/generate-letter', {\n            notice_id: noticeId,\n            response_type: responseType\n        });\n        return response.data;\n    },\n\n    getPaymentPlanOptions: async (clientId, amountOwed) => {\n        const response = await api.post('/dashboard/resolution/payment-plans', {\n            client_id: clientId,\n            amount_owed: amountOwed\n        });\n        return response.data;\n    },\n\n    calculateOICAmount: async (clientId, financialData) => {\n        const response = await api.post('/dashboard/resolution/oic-calculator', {\n            client_id: clientId,\n            financial_data: financialData\n        });\n        return response.data;\n    },\n\n    requestPenaltyAbatement: async (clientId, penaltyData) => {\n        const response = await api.post('/dashboard/resolution/penalty-abatement', {\n            client_id: clientId,\n            penalty_data: penaltyData\n        });\n        return response.data;\n    },\n\n    // ==========================================\n    // ITIN MANAGEMENT\n    // ==========================================\n    createITINApplication: async (clientId, applicantData) => {\n        const response = await api.post('/dashboard/itin/application', {\n            client_id: clientId,\n            applicant_data: applicantData\n        });\n        return response.data;\n    },\n\n    getITINStatus: async (applicationId) => {\n        const response = await api.get(`/dashboard/itin/status/${applicationId}`);\n        return response.data;\n    },\n\n    getITINDocumentChecklist: async (applicationType) => {\n        const response = await api.get('/dashboard/itin/document-checklist', {\n            params: { application_type: applicationType }\n        });\n        return response.data;\n    },\n\n    findNearbyCAA: async (zipCode) => {\n        const response = await api.get('/dashboard/itin/find-caa', {\n            params: { zip_code: zipCode }\n        });\n        return response.data;\n    },\n\n    trackITINRenewal: async (clientId) => {\n        const response = await api.get(`/dashboard/itin/renewal-tracker/${clientId}`);\n        return response.data;\n    },\n\n    // ==========================================\n    // COMPLIANCE DEADLINES\n    // ==========================================\n    getClientDeadlines: async (clientId, jurisdictions) => {\n        const response = await api.get(`/dashboard/compliance/deadlines/${clientId}`, {\n            params: { jurisdictions }  // federal, state, local\n        });\n        return response.data;\n    },\n\n    getAllDeadlines: async (filters) => {\n        const response = await api.get('/dashboard/compliance/all-deadlines', {\n            params: filters  // date_range, jurisdiction, urgency\n        });\n        return response.data;\n    },\n\n    setDeadlineAlert: async (deadlineId, alertDays) => {\n        const response = await api.post('/dashboard/compliance/set-alert', {\n            deadline_id: deadlineId,\n            alert_days_before: alertDays\n        });\n        return response.data;\n    },\n\n    getStateRequirements: async (state, entityType) => {\n        const response = await api.get('/dashboard/compliance/state-requirements', {\n            params: { state, entity_type: entityType }\n        });\n        return response.data;\n    },\n\n    getLocalTaxRequirements: async (city, county) => {\n        const response = await api.get('/dashboard/compliance/local-requirements', {\n            params: { city, county }\n        });\n        return response.data;\n    },\n};\n","// Currency formatting\nexport const formatCurrency = (amount, options = {}) => {\n    if (amount === null || amount === undefined) return '$0.00';\n\n    return new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n        ...options\n    }).format(amount);\n};\n\n// Date formatting\nexport const formatDate = (date, options = {}) => {\n    if (!date) return '';\n\n    const dateObj = typeof date === 'string' ? new Date(date) : date;\n\n    return new Intl.DateTimeFormat('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        ...options\n    }).format(dateObj);\n};\n\nexport const formatDateTime = (date) => {\n    if (!date) return '';\n\n    const dateObj = typeof date === 'string' ? new Date(date) : date;\n\n    return new Intl.DateTimeFormat('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n    }).format(dateObj);\n};\n\n// Number formatting\nexport const formatNumber = (num, decimals = 0) => {\n    if (num === null || num === undefined) return '0';\n\n    return new Intl.NumberFormat('en-US', {\n        minimumFractionDigits: decimals,\n        maximumFractionDigits: decimals\n    }).format(num);\n};\n\nexport const formatPercent = (value, decimals = 1) => {\n    if (value === null || value === undefined) return '0%';\n\n    return `${formatNumber(value, decimals)}%`;\n};\n\n// SSN formatting\nexport const formatSSN = (ssn) => {\n    if (!ssn) return '';\n\n    // Remove all non-digits\n    const cleaned = ssn.replace(/\\D/g, '');\n\n    // Format as XXX-XX-XXXX\n    if (cleaned.length === 9) {\n        return `${cleaned.slice(0, 3)}-${cleaned.slice(3, 5)}-${cleaned.slice(5)}`;\n    }\n\n    return ssn;\n};\n\n// Mask SSN (show last 4 only)\nexport const maskSSN = (ssn) => {\n    if (!ssn) return '';\n\n    const cleaned = ssn.replace(/\\D/g, '');\n\n    if (cleaned.length === 9) {\n        return `XXX-XX-${cleaned.slice(5)}`;\n    }\n\n    return 'XXX-XX-XXXX';\n};\n\n// EIN formatting\nexport const formatEIN = (ein) => {\n    if (!ein) return '';\n\n    const cleaned = ein.replace(/\\D/g, '');\n\n    if (cleaned.length === 9) {\n        return `${cleaned.slice(0, 2)}-${cleaned.slice(2)}`;\n    }\n\n    return ein;\n};\n\n// Phone formatting\nexport const formatPhone = (phone) => {\n    if (!phone) return '';\n\n    const cleaned = phone.replace(/\\D/g, '');\n\n    if (cleaned.length === 10) {\n        return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;\n    }\n\n    return phone;\n};\n\n// File size formatting\nexport const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n};\n\n// Relative time formatting\nexport const formatRelativeTime = (date) => {\n    if (!date) return '';\n\n    const dateObj = typeof date === 'string' ? new Date(date) : date;\n    const now = new Date();\n    const diffInSeconds = Math.floor((now - dateObj) / 1000);\n\n    if (diffInSeconds < 60) return 'just now';\n    if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} minutes ago`;\n    if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} hours ago`;\n    if (diffInSeconds < 604800) return `${Math.floor(diffInSeconds / 86400)} days ago`;\n\n    return formatDate(dateObj);\n};\n","import React from 'react';\n\nexport const LoadingSpinner = ({ message = 'Loading...', size = 'large' }) => {\n    const sizeClasses = {\n        small: 'w-8 h-8',\n        medium: 'w-12 h-12',\n        large: 'w-16 h-16'\n    };\n\n    return (\n        <div className=\"flex flex-col items-center justify-center min-h-[400px]\">\n            <div className={`${sizeClasses[size]} animate-spin`}>\n                <svg className=\"w-full h-full text-teal-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n            </div>\n            {message && (\n                <p className=\"mt-4 text-gray-600 font-medium\">{message}</p>\n            )}\n        </div>\n    );\n};\n\nexport const InlineSpinner = ({ size = 'small' }) => {\n    const sizeClasses = {\n        small: 'w-4 h-4',\n        medium: 'w-6 h-6'\n    };\n\n    return (\n        <div className={`${sizeClasses[size]} animate-spin`}>\n            <svg className=\"w-full h-full\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n        </div>\n    );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { dashboardService } from '../../services/dashboard';\nimport { formatCurrency, formatDate } from '../../utils/formatters';\nimport { LoadingSpinner } from '../shared/LoadingSpinner';\n\nexport const TaxpayerDashboardEnhanced = () => {\n    const { user } = useAuth();\n    const [activeTab, setActiveTab] = useState('dashboard');\n    const [loading, setLoading] = useState(true);\n    const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\n    const [dashboardData, setDashboardData] = useState(null);\n    const [showModal, setShowModal] = useState(null);\n\n    useEffect(() => {\n        loadDashboard();\n    }, [selectedYear]);\n\n    const loadDashboard = async () => {\n        try {\n            setLoading(true);\n            const data = await dashboardService.getTaxpayerDashboard(selectedYear);\n            setDashboardData(data);\n        } catch (error) {\n            console.error('Failed to load dashboard:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (loading) return <LoadingSpinner message=\"Loading your tax dashboard...\" />;\n\n    return (\n        <div className=\"min-h-screen bg-gray-50\">\n            {/* Header */}\n            <Header user={user} onOpenModal={setShowModal} />\n\n            {/* Tab Navigation */}\n            <TabNavigation activeTab={activeTab} onTabChange={setActiveTab} />\n\n            {/* Main Content */}\n            <main className=\"max-w-7xl mx-auto px-4 py-6\">\n                {activeTab === 'dashboard' && <DashboardTab data={dashboardData} onOpenModal={setShowModal} />}\n                {activeTab === 'connections' && <ConnectionsTab />}\n                {activeTab === 'documents' && <DocumentsTab />}\n                {activeTab === 'dependents' && <DependentsTab />}\n                {activeTab === 'identity' && <IdentityTab />}\n                {activeTab === 'messages' && <MessagesTab />}\n                {activeTab === 'subscription' && <SubscriptionTab />}\n                {activeTab === 'settings' && <SettingsTab />}\n            </main>\n\n            {/* Modals */}\n            {showModal === 'subscription' && <SubscriptionModal onClose={() => setShowModal(null)} />}\n            {showModal === 'message-preparer' && <MessagePreparerModal onClose={() => setShowModal(null)} />}\n            {showModal === 'upload' && <UploadModal onClose={() => setShowModal(null)} />}\n        </div>\n    );\n};\n\nconst Header = ({ user, onOpenModal }) => {\n    return (\n        <header className=\"bg-gradient-to-r from-blue-600 to-blue-700 shadow-lg\">\n            <div className=\"max-w-7xl mx-auto px-4 py-4\">\n                <div className=\"flex justify-between items-center\">\n                    <div className=\"flex items-center space-x-3\">\n                        <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"/>\n                        </svg>\n                        <div>\n                            <h1 className=\"text-2xl font-bold text-white\">Tax Dashboard</h1>\n                            <p className=\"text-sm text-blue-100\">{user.name || 'Michael & Sarah Anderson'}</p>\n                        </div>\n                    </div>\n                    <div className=\"flex items-center space-x-4\">\n                        <button\n                            onClick={() => onOpenModal('subscription')}\n                            className=\"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 font-semibold flex items-center space-x-2\"\n                        >\n                            <span>‚≠ê</span>\n                            <span>Upgrade Plan</span>\n                        </button>\n                        <button\n                            onClick={() => onOpenModal('message-preparer')}\n                            className=\"px-4 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 font-semibold flex items-center space-x-2\"\n                        >\n                            <span>üí¨</span>\n                            <span>Message Preparer</span>\n                        </button>\n                        <div className=\"flex items-center space-x-2 bg-white bg-opacity-20 rounded-lg px-3 py-2\">\n                            <span className=\"text-white text-sm\">üë§ {user.firstName || 'Michael Anderson'}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </header>\n    );\n};\n\nconst TabNavigation = ({ activeTab, onTabChange }) => {\n    const tabs = [\n        { id: 'dashboard', label: 'üìä Dashboard', badge: null },\n        { id: 'connections', label: 'üîó Connections', badge: null },\n        { id: 'documents', label: 'üìÑ Documents', badge: null },\n        { id: 'dependents', label: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family & Dependents', badge: null },\n        { id: 'identity', label: 'üÜî Identity Verification', badge: null },\n        { id: 'messages', label: 'üí¨ Messages', badge: 3 },\n        { id: 'subscription', label: 'üí≥ Subscription', badge: null },\n        { id: 'settings', label: '‚öôÔ∏è Settings', badge: null },\n    ];\n\n    return (\n        <nav className=\"bg-white shadow-sm border-b\">\n            <div className=\"max-w-7xl mx-auto px-4\">\n                <div className=\"flex space-x-1 overflow-x-auto\">\n                    {tabs.map(tab => (\n                        <button\n                            key={tab.id}\n                            onClick={() => onTabChange(tab.id)}\n                            className={`relative px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${\n                                activeTab === tab.id\n                                    ? 'border-b-3 border-blue-600 text-blue-600'\n                                    : 'text-gray-600 hover:text-gray-900'\n                            }`}\n                        >\n                            {tab.label}\n                            {tab.badge && (\n                                <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\">\n                                    {tab.badge}\n                                </span>\n                            )}\n                        </button>\n                    ))}\n                </div>\n            </div>\n        </nav>\n    );\n};\n\nconst DashboardTab = ({ data, onOpenModal }) => {\n    return (\n        <div className=\"space-y-6 animate-fadeIn\">\n            {/* Filing Status Banner */}\n            <FilingStatusBanner data={data} />\n\n            {/* Processing Timeline */}\n            <ProcessingTimeline stages={data?.timeline} />\n\n            {/* Stats Grid */}\n            <StatsGrid stats={data?.stats} />\n\n            {/* AI Optimization Recommendations */}\n            <OptimizationRecommendations recommendations={data?.recommendations} onOpenModal={onOpenModal} />\n\n            {/* Two Column Layout */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                {/* Left Column - 2/3 */}\n                <div className=\"lg:col-span-2 space-y-6\">\n                    <IncomeSourcesWidget sources={data?.income_sources} />\n                    <DeductionsWidget deductions={data?.deductions} />\n                    <DocumentChecklistWidget documents={data?.documents} />\n                </div>\n\n                {/* Right Column - 1/3 */}\n                <div className=\"space-y-6\">\n                    <TaxProContactWidget professional={data?.assigned_professional} />\n                    <UpcomingDeadlinesWidget deadlines={data?.deadlines} />\n                    <QuickActionsWidget onOpenModal={onOpenModal} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst FilingStatusBanner = ({ data }) => {\n    const progress = data?.progress || 78;\n    const status = data?.status || 'In Review by Preparer';\n    const currentStage = data?.current_stage || 'Professional Review';\n    const preparer = data?.preparer || 'Jennifer Martinez';\n    const expectedDate = data?.expected_completion || 'December 20, 2024';\n\n    return (\n        <div className=\"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white\">\n            <div className=\"flex justify-between items-start\">\n                <div className=\"flex-1\">\n                    <h2 className=\"text-3xl font-bold\">2024 Tax Return Status</h2>\n                    <p className=\"mt-2 text-lg\">\n                        Filing Status: Married Filing Jointly ‚Ä¢ Status: <span className=\"font-semibold\">{status}</span>\n                    </p>\n                    <div className=\"mt-4 bg-white bg-opacity-20 rounded-lg p-4\">\n                        <div className=\"flex items-center space-x-3 mb-2\">\n                            <span className=\"text-2xl\">‚è±Ô∏è</span>\n                            <div>\n                                <div className=\"font-semibold\">Current Stage: {currentStage}</div>\n                                <div className=\"text-sm opacity-90\">Your preparer {preparer} is reviewing your return</div>\n                            </div>\n                        </div>\n                        <div className=\"text-sm opacity-90 mt-2\">Expected completion: {expectedDate} (3 days)</div>\n                    </div>\n                </div>\n                <div className=\"text-right ml-6\">\n                    <div className=\"text-sm opacity-90\">Overall Progress</div>\n                    <div className=\"text-5xl font-bold\">{progress}%</div>\n                    <div className=\"w-32 bg-white bg-opacity-30 rounded-full h-3 mt-2\">\n                        <div className=\"bg-yellow-300 h-3 rounded-full transition-all duration-500\" style={{ width: `${progress}%` }}></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst ProcessingTimeline = ({ stages }) => {\n    const defaultStages = [\n        { title: 'Documents Received', status: 'completed', date: 'Dec 10, 2024', description: 'All required documents uploaded and verified' },\n        { title: 'Documents Processed', status: 'completed', date: 'Dec 12, 2024', description: 'All forms digitized and data extracted' },\n        { title: 'Preparer Review', status: 'current', date: 'Dec 20, 2024', description: 'Jennifer Martinez is reviewing your return for accuracy and optimization' },\n        { title: 'Client Approval', status: 'pending', date: 'Pending', description: 'Review and approve final return' },\n        { title: 'E-Filed to IRS', status: 'pending', date: 'Dec 22, 2024', description: 'Return submitted electronically to IRS' },\n        { title: 'IRS Acknowledgment', status: 'pending', date: 'Dec 24, 2024', description: 'IRS confirms receipt (typically 24-48 hours)' },\n        { title: 'Refund Issued', status: 'pending', date: 'Jan 15, 2025', description: 'IRS processes and issues refund (10-21 days)' },\n    ];\n\n    const timelineStages = stages || defaultStages;\n\n    const getStatusIcon = (status) => {\n        if (status === 'completed') return { icon: '‚úì', color: 'green', pulse: false };\n        if (status === 'current') return { icon: '‚è≥', color: 'blue', pulse: true };\n        return { icon: '‚óã', color: 'gray', pulse: false };\n    };\n\n    return (\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\n            <h3 className=\"text-xl font-bold mb-4\">üìã Processing Timeline</h3>\n            <div className=\"space-y-4\">\n                {timelineStages.map((stage, idx) => {\n                    const statusIcon = getStatusIcon(stage.status);\n                    const isCompleted = stage.status === 'completed';\n                    const isCurrent = stage.status === 'current';\n                    const isPending = stage.status === 'pending';\n\n                    return (\n                        <div key={idx} className={`flex items-start space-x-4 ${isPending ? 'opacity-50' : ''}`}>\n                            <div className={`flex-shrink-0 w-10 h-10 bg-${statusIcon.color}-100 rounded-full flex items-center justify-center ${statusIcon.pulse ? 'animate-pulse' : ''}`}>\n                                <span className={`text-${statusIcon.color}-600 text-xl`}>{statusIcon.icon}</span>\n                            </div>\n                            <div className=\"flex-1\">\n                                <div className=\"font-semibold\">{stage.title}{isCurrent ? ' (Current Stage)' : ''}</div>\n                                <div className=\"text-sm text-gray-600\">{stage.description}</div>\n                                <div className={`text-xs mt-1 ${\n                                    isCompleted ? 'text-gray-500' :\n                                    isCurrent ? 'text-blue-600 font-semibold' :\n                                    'text-gray-500'\n                                }`}>\n                                    {isCompleted ? `Completed: ${stage.date}` :\n                                     isCurrent ? `In Progress - Expected: ${stage.date}` :\n                                     `Estimated: ${stage.date}`}\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n};\n\nconst StatsGrid = ({ stats }) => {\n    const defaultStats = [\n        { label: 'Total Income', value: '$125,450', change: '‚Üë 8% from 2023', color: 'gray' },\n        { label: 'Tax Withheld', value: '$24,680', sublabel: 'Federal & State', color: 'gray' },\n        { label: 'Estimated Refund', value: '$2,340', sublabel: 'Projected', color: 'green' },\n        { label: 'Potential Savings', value: '$5,240', sublabel: 'Via optimization', color: 'blue' },\n    ];\n\n    const statsData = stats || defaultStats;\n\n    return (\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n            {statsData.map((stat, idx) => (\n                <div key={idx} className=\"bg-white rounded-lg shadow p-6\">\n                    <div className=\"text-sm text-gray-600\">{stat.label}</div>\n                    <div className={`text-3xl font-bold mt-2 ${stat.color === 'green' ? 'text-green-600' : stat.color === 'blue' ? 'text-blue-600' : 'text-gray-900'}`}>\n                        {stat.value}\n                    </div>\n                    <div className={`text-sm mt-1 ${stat.change?.includes('‚Üë') ? 'text-green-600' : 'text-gray-500'}`}>\n                        {stat.change || stat.sublabel}\n                    </div>\n                </div>\n            ))}\n        </div>\n    );\n};\n\nconst OptimizationRecommendations = ({ recommendations, onOpenModal }) => {\n    const defaultRecommendations = [\n        {\n            title: 'Maximize 401(k) Contributions',\n            priority: 'high',\n            icon: 'üí∞',\n            description: 'You\\'re currently contributing $15,000 annually. Increase to the 2024 limit of $23,000 to maximize tax savings.',\n            savings: '$2,400/year',\n            impact: { contribution: '$8,000/year', taxSavings: '$2,400/year', taxRate: '30% bracket', difficulty: 'Easy' },\n            actionSteps: [\n                'Log into your employer\\'s payroll portal',\n                'Update 401(k) contribution to 12% of gross pay',\n                'Confirm changes take effect next pay period'\n            ]\n        },\n        {\n            title: 'Claim Home Office Deduction',\n            priority: 'medium',\n            icon: 'üè†',\n            description: 'Based on your remote work pattern (3 days/week), you qualify for home office deduction.',\n            savings: '$720/year',\n            calculation: {\n                homeOfficeSpace: '200 sq ft',\n                totalHomeSpace: '2,000 sq ft',\n                percentageUsed: '10%',\n                annualRentMortgage: '$24,000',\n                deductibleAmount: '$2,400'\n            },\n            requiredDocs: [\n                'Home office photo/measurements',\n                'Utility bills (last 12 months)',\n                'Rent/mortgage statements',\n                'Employer remote work policy'\n            ]\n        },\n        {\n            title: 'Education Credits for Dependent',\n            priority: 'high',\n            icon: 'üéì',\n            description: 'Your daughter Emma qualifies for American Opportunity Tax Credit.',\n            savings: '$2,500',\n            details: {\n                tuition: '$12,000/year',\n                credit: 'Up to $2,500',\n                refundable: '40% refundable ($1,000)'\n            }\n        }\n    ];\n\n    const recs = recommendations || defaultRecommendations;\n\n    return (\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\n            <h3 className=\"text-xl font-bold mb-4\">üí° AI-Powered Tax Optimization Recommendations</h3>\n            <div className=\"space-y-4\">\n                {recs.map((rec, idx) => (\n                    <OptimizationCard key={idx} recommendation={rec} onOpenModal={onOpenModal} />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst OptimizationCard = ({ recommendation, onOpenModal }) => {\n    const [expanded, setExpanded] = useState(false);\n    const borderColor = recommendation.priority === 'high' ? 'green' : recommendation.priority === 'medium' ? 'blue' : 'purple';\n    const bgColor = recommendation.priority === 'high' ? 'green' : recommendation.priority === 'medium' ? 'blue' : 'purple';\n\n    return (\n        <div className={`p-5 border-l-4 border-${borderColor}-500 bg-${bgColor}-50 rounded-lg`}>\n            <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                    <div className=\"flex items-center space-x-2 mb-2\">\n                        <span className=\"text-2xl\">{recommendation.icon}</span>\n                        <div className=\"font-bold text-lg\">{recommendation.title}</div>\n                        <span className={`px-2 py-1 bg-${bgColor}-600 text-white text-xs rounded-full font-semibold`}>\n                            {recommendation.priority === 'high' ? 'High Priority' : recommendation.priority === 'medium' ? 'Medium Priority' : 'High Impact'}\n                        </span>\n                    </div>\n                    <div className=\"text-gray-700 mb-2\">{recommendation.description}</div>\n\n                    {expanded && recommendation.impact && (\n                        <div className=\"bg-white rounded p-3 mb-3\">\n                            <div className=\"text-sm font-semibold mb-2\">Impact Analysis:</div>\n                            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                                <div>\n                                    <div className=\"text-gray-600\">Additional Contribution</div>\n                                    <div className=\"font-bold\">{recommendation.impact.contribution}</div>\n                                </div>\n                                <div>\n                                    <div className=\"text-gray-600\">Tax Savings</div>\n                                    <div className=\"font-bold text-green-600\">{recommendation.impact.taxSavings}</div>\n                                </div>\n                                <div>\n                                    <div className=\"text-gray-600\">Effective Tax Rate</div>\n                                    <div className=\"font-bold\">{recommendation.impact.taxRate}</div>\n                                </div>\n                                <div>\n                                    <div className=\"text-gray-600\">Implementation</div>\n                                    <div className=\"font-bold text-blue-600\">{recommendation.impact.difficulty}</div>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {expanded && recommendation.actionSteps && (\n                        <div className=\"text-sm text-gray-600 mb-3\">\n                            <span className=\"font-semibold\">Action Steps:</span>\n                            <ol className=\"list-decimal ml-5 mt-2 space-y-1\">\n                                {recommendation.actionSteps.map((step, idx) => (\n                                    <li key={idx}>{step}</li>\n                                ))}\n                            </ol>\n                        </div>\n                    )}\n\n                    {expanded && recommendation.requiredDocs && (\n                        <div className=\"text-sm text-gray-600 mb-3\">\n                            <span className=\"font-semibold\">Required Documents:</span>\n                            <ul className=\"list-disc ml-5 mt-2 space-y-1\">\n                                {recommendation.requiredDocs.map((doc, idx) => (\n                                    <li key={idx}>{doc}</li>\n                                ))}\n                            </ul>\n                        </div>\n                    )}\n\n                    <div className={`text-2xl font-bold text-${bgColor}-600 mb-2`}>Save {recommendation.savings}</div>\n                </div>\n            </div>\n            <div className=\"flex space-x-3 mt-3\">\n                <button className={`px-4 py-2 bg-${bgColor}-600 text-white rounded hover:bg-${bgColor}-700 font-semibold`}>\n                    Apply Recommendation\n                </button>\n                <button\n                    onClick={() => setExpanded(!expanded)}\n                    className={`px-4 py-2 bg-${bgColor}-100 text-${bgColor}-700 rounded hover:bg-${bgColor}-200`}\n                >\n                    {expanded ? 'Show Less' : 'Learn More'}\n                </button>\n                <button className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200\">\n                    Dismiss\n                </button>\n            </div>\n        </div>\n    );\n};\n\n// Placeholder components for other tabs (to be implemented)\nconst ConnectionsTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üîó Connections</h3><p className=\"mt-4 text-gray-600\">Connect your financial accounts to automatically import tax documents.</p></div>;\nconst DocumentsTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üìÑ Documents</h3><p className=\"mt-4 text-gray-600\">Manage and upload your tax documents here.</p></div>;\nconst DependentsTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family & Dependents</h3><p className=\"mt-4 text-gray-600\">Manage family members and dependents.</p></div>;\nconst IdentityTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üÜî Identity Verification</h3><p className=\"mt-4 text-gray-600\">Verify your identity for secure tax filing.</p></div>;\nconst MessagesTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üí¨ Messages</h3><p className=\"mt-4 text-gray-600\">Communicate with your tax preparer.</p></div>;\nconst SubscriptionTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üí≥ Subscription</h3><p className=\"mt-4 text-gray-600\">Manage your subscription and billing.</p></div>;\nconst SettingsTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">‚öôÔ∏è Settings</h3><p className=\"mt-4 text-gray-600\">Update your account settings and preferences.</p></div>;\n\n// Widget components\nconst IncomeSourcesWidget = ({ sources }) => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-lg font-bold mb-4\">üíº Income Sources</h3><p className=\"text-gray-600\">Income breakdown coming soon...</p></div>;\nconst DeductionsWidget = ({ deductions }) => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-lg font-bold mb-4\">üìâ Deductions & Credits</h3><p className=\"text-gray-600\">Deductions summary coming soon...</p></div>;\nconst DocumentChecklistWidget = ({ documents }) => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-lg font-bold mb-4\">üìÅ Document Checklist</h3><p className=\"text-gray-600\">Document status coming soon...</p></div>;\n\nconst TaxProContactWidget = ({ professional }) => {\n    const pro = professional || { name: 'Jennifer Martinez', title: 'CPA, EA', initials: 'JM' };\n\n    return (\n        <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"text-lg font-bold mb-4\">üë§ Your Tax Professional</h3>\n            <div className=\"flex items-center space-x-3 mb-4\">\n                <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n                    <span className=\"text-lg font-bold text-blue-600\">{pro.initials}</span>\n                </div>\n                <div>\n                    <div className=\"font-semibold\">{pro.name}</div>\n                    <div className=\"text-sm text-gray-600\">{pro.title}</div>\n                </div>\n            </div>\n            <div className=\"space-y-2\">\n                <button className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium\">\n                    Send Message\n                </button>\n                <button className=\"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium\">\n                    Schedule Call\n                </button>\n            </div>\n        </div>\n    );\n};\n\nconst UpcomingDeadlinesWidget = ({ deadlines }) => {\n    const defaultDeadlines = [\n        { title: 'Q4 Estimated Tax', date: '2025-01-15', icon: 'üìÖ' },\n        { title: 'Tax Return Deadline', date: '2025-04-15', icon: '‚è∞' },\n    ];\n\n    const items = deadlines || defaultDeadlines;\n\n    return (\n        <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"text-lg font-bold mb-4\">üìÖ Upcoming Deadlines</h3>\n            <div className=\"space-y-3\">\n                {items.map((deadline, idx) => (\n                    <div key={idx} className=\"flex items-center space-x-3 pb-3 border-b border-gray-100 last:border-0\">\n                        <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                            <span className=\"text-xl\">{deadline.icon}</span>\n                        </div>\n                        <div className=\"flex-1\">\n                            <div className=\"font-medium\">{deadline.title}</div>\n                            <div className=\"text-sm text-gray-600\">{formatDate(deadline.date)}</div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst QuickActionsWidget = ({ onOpenModal }) => {\n    return (\n        <div className=\"bg-white rounded-lg shadow p-6\">\n            <h3 className=\"text-lg font-bold mb-4\">‚ö° Quick Actions</h3>\n            <div className=\"space-y-2\">\n                <button\n                    onClick={() => onOpenModal('upload')}\n                    className=\"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center space-x-3\"\n                >\n                    <span className=\"text-2xl\">üì§</span>\n                    <div>\n                        <div className=\"font-medium\">Upload Document</div>\n                        <div className=\"text-xs text-gray-500\">W-2, 1099, receipts</div>\n                    </div>\n                </button>\n                <button className=\"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center space-x-3\">\n                    <span className=\"text-2xl\">üìä</span>\n                    <div>\n                        <div className=\"font-medium\">View Tax Forms</div>\n                        <div className=\"text-xs text-gray-500\">Draft and final returns</div>\n                    </div>\n                </button>\n                <button\n                    onClick={() => onOpenModal('message-preparer')}\n                    className=\"w-full px-4 py-3 text-left border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center space-x-3\"\n                >\n                    <span className=\"text-2xl\">üí¨</span>\n                    <div>\n                        <div className=\"font-medium\">Ask a Question</div>\n                        <div className=\"text-xs text-gray-500\">Get tax advice</div>\n                    </div>\n                </button>\n            </div>\n        </div>\n    );\n};\n\n// Modal components\nconst SubscriptionModal = ({ onClose }) => (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm\" onClick={onClose}>\n        <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4\" onClick={e => e.stopPropagation()}>\n            <h3 className=\"text-2xl font-bold mb-4\">‚≠ê Upgrade Your Plan</h3>\n            <p className=\"text-gray-600 mb-4\">Choose a plan that works best for you.</p>\n            <div className=\"flex justify-end space-x-3\">\n                <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\">\n                    Close\n                </button>\n            </div>\n        </div>\n    </div>\n);\n\nconst MessagePreparerModal = ({ onClose }) => (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm\" onClick={onClose}>\n        <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4\" onClick={e => e.stopPropagation()}>\n            <h3 className=\"text-2xl font-bold mb-4\">üí¨ Message Your Tax Preparer</h3>\n            <textarea className=\"w-full border border-gray-300 rounded-lg p-3 mb-4\" rows=\"6\" placeholder=\"Type your message here...\"></textarea>\n            <div className=\"flex justify-end space-x-3\">\n                <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\">\n                    Cancel\n                </button>\n                <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\">\n                    Send Message\n                </button>\n            </div>\n        </div>\n    </div>\n);\n\nconst UploadModal = ({ onClose }) => (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm\" onClick={onClose}>\n        <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4\" onClick={e => e.stopPropagation()}>\n            <h3 className=\"text-2xl font-bold mb-4\">üì§ Upload Documents</h3>\n            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center mb-4\">\n                <p className=\"text-gray-600\">Drag and drop files here, or click to select</p>\n            </div>\n            <div className=\"flex justify-end space-x-3\">\n                <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\">\n                    Cancel\n                </button>\n                <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\">\n                    Upload\n                </button>\n            </div>\n        </div>\n    </div>\n);\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { dashboardService } from '../../services/dashboard';\nimport { formatCurrency, formatDate } from '../../utils/formatters';\nimport { LoadingSpinner } from '../shared/LoadingSpinner';\n\nexport const BusinessOwnerDashboardEnhanced = () => {\n    const { user } = useAuth();\n    const [activeTab, setActiveTab] = useState('dashboard');\n    const [loading, setLoading] = useState(true);\n    const [selectedBusiness, setSelectedBusiness] = useState('tech-solutions');\n    const [dashboardData, setDashboardData] = useState(null);\n    const [showModal, setShowModal] = useState(null);\n    const [simulationResult, setSimulationResult] = useState(null);\n\n    useEffect(() => {\n        loadDashboard();\n    }, [selectedBusiness]);\n\n    const loadDashboard = async () => {\n        try {\n            setLoading(true);\n            const data = await dashboardService.getBusinessOwnerDashboard(selectedBusiness);\n            setDashboardData(data);\n        } catch (error) {\n            console.error('Failed to load dashboard:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (loading) return <LoadingSpinner message=\"Loading your business dashboard...\" />;\n\n    return (\n        <div className=\"min-h-screen bg-gray-50\">\n            {/* Header */}\n            <Header\n                user={user}\n                selectedBusiness={selectedBusiness}\n                onBusinessChange={setSelectedBusiness}\n                onOpenModal={setShowModal}\n            />\n\n            {/* Tab Navigation */}\n            <TabNavigation activeTab={activeTab} onTabChange={setActiveTab} />\n\n            {/* Main Content */}\n            <main className=\"max-w-7xl mx-auto px-4 py-8\">\n                {activeTab === 'dashboard' && <DashboardTab data={dashboardData} onOpenModal={setShowModal} onRunSimulation={setSimulationResult} />}\n                {activeTab === 'profile' && <ProfileTab />}\n                {activeTab === 'financial' && <FinancialTab />}\n                {activeTab === 'payroll' && <PayrollTab />}\n                {activeTab === 'simulations' && <SimulationsTab />}\n                {activeTab === 'compliance' && <ComplianceTab />}\n                {activeTab === 'documents' && <DocumentsTab />}\n                {activeTab === 'messages' && <MessagesTab />}\n                {activeTab === 'subscription' && <SubscriptionTab />}\n                {activeTab === 'settings' && <SettingsTab />}\n            </main>\n\n            {/* Modals */}\n            {showModal === 'message' && <MessageModal onClose={() => setShowModal(null)} />}\n            {showModal === 'simulation' && <SimulationModal result={simulationResult} onClose={() => setShowModal(null)} />}\n        </div>\n    );\n};\n\nconst Header = ({ user, selectedBusiness, onBusinessChange, onOpenModal }) => {\n    const businesses = [\n        { id: 'tech-solutions', name: 'Tech Solutions LLC', ein: '12-3456789', type: 'S-Corporation' },\n        { id: 'consulting-co', name: 'Consulting Co.', ein: '98-7654321', type: 'LLC' },\n    ];\n\n    const currentBusiness = businesses.find(b => b.id === selectedBusiness) || businesses[0];\n\n    return (\n        <header className=\"bg-white shadow-sm border-b border-gray-200\">\n            <div className=\"max-w-7xl mx-auto px-4 py-4\">\n                <div className=\"flex justify-between items-center\">\n                    <div className=\"flex items-center space-x-4\">\n                        <div className=\"text-3xl text-indigo-600\">üè¢</div>\n                        <div>\n                            <h1 className=\"text-2xl font-bold text-gray-900\">{currentBusiness.name}</h1>\n                            <p className=\"text-sm text-gray-500\">EIN: {currentBusiness.ein} | {currentBusiness.type}</p>\n                        </div>\n                    </div>\n                    <div className=\"flex items-center space-x-4\">\n                        {/* Entity Switcher */}\n                        <select\n                            value={selectedBusiness}\n                            onChange={(e) => onBusinessChange(e.target.value)}\n                            className=\"bg-gray-50 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\n                        >\n                            {businesses.map(business => (\n                                <option key={business.id} value={business.id}>{business.name}</option>\n                            ))}\n                            <option value=\"add-new\">+ Add Business</option>\n                        </select>\n\n                        {/* Personal Dashboard Link */}\n                        <button className=\"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700\">\n                            <span>üë§</span>\n                            <span>Personal Tax Dashboard</span>\n                        </button>\n\n                        {/* Notification Bell */}\n                        <button className=\"relative p-2 text-gray-600 hover:text-gray-900\">\n                            <span className=\"text-xl\">üîî</span>\n                            <span className=\"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full\"></span>\n                        </button>\n\n                        {/* User Profile */}\n                        <div className=\"flex items-center space-x-2\">\n                            <div className=\"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white font-bold\">\n                                {user.firstName?.[0]}{user.lastName?.[0]}\n                            </div>\n                            <div>\n                                <p className=\"text-sm font-medium text-gray-900\">{user.name || 'John Smith'}</p>\n                                <p className=\"text-xs text-gray-500\">Business Owner</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </header>\n    );\n};\n\nconst TabNavigation = ({ activeTab, onTabChange }) => {\n    const tabs = [\n        { id: 'dashboard', label: 'üìä Dashboard', icon: 'chart-line' },\n        { id: 'profile', label: 'üè¢ Business Profile', icon: 'building' },\n        { id: 'financial', label: 'üìà Financial', icon: 'chart-bar' },\n        { id: 'payroll', label: 'üë• Payroll', icon: 'users' },\n        { id: 'simulations', label: 'üß™ Tax Simulations', icon: 'flask' },\n        { id: 'compliance', label: '‚úÖ Compliance', icon: 'clipboard-check' },\n        { id: 'documents', label: 'üìÅ Documents', icon: 'folder' },\n        { id: 'messages', label: 'üí¨ Messages', icon: 'comments', badge: 2 },\n        { id: 'subscription', label: 'üí≥ Subscription', icon: 'credit-card' },\n        { id: 'settings', label: '‚öôÔ∏è Settings', icon: 'cog' },\n    ];\n\n    return (\n        <nav className=\"bg-white border-b border-gray-200 sticky top-0 z-40\">\n            <div className=\"max-w-7xl mx-auto px-4\">\n                <div className=\"flex space-x-1 overflow-x-auto\">\n                    {tabs.map(tab => (\n                        <button\n                            key={tab.id}\n                            onClick={() => onTabChange(tab.id)}\n                            className={`relative px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${\n                                activeTab === tab.id\n                                    ? 'border-b-2 border-indigo-600 text-indigo-600'\n                                    : 'border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                            }`}\n                        >\n                            {tab.label}\n                            {tab.badge && (\n                                <span className=\"ml-1 px-2 py-0.5 text-xs bg-red-500 text-white rounded-full\">\n                                    {tab.badge}\n                                </span>\n                            )}\n                        </button>\n                    ))}\n                </div>\n            </div>\n        </nav>\n    );\n};\n\nconst DashboardTab = ({ data, onOpenModal, onRunSimulation }) => {\n    return (\n        <div className=\"space-y-8 animate-fadeIn\">\n            {/* Status Banner */}\n            <StatusBanner />\n\n            {/* Key Metrics Grid */}\n            <MetricsGrid stats={data?.stats} />\n\n            {/* AI Recommendations */}\n            <AIRecommendations recommendations={data?.recommendations} onRunSimulation={onRunSimulation} />\n\n            {/* Quick Actions */}\n            <QuickActionsGrid onOpenModal={onOpenModal} />\n        </div>\n    );\n};\n\nconst StatusBanner = () => {\n    return (\n        <div className=\"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-lg p-6 text-white\">\n            <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-4\">\n                    <div className=\"bg-white bg-opacity-20 p-3 rounded-full\">\n                        <span className=\"text-3xl\">üìä</span>\n                    </div>\n                    <div>\n                        <h2 className=\"text-2xl font-bold\">2024 Tax Year - In Progress</h2>\n                        <p className=\"text-blue-100 mt-1\">Quarterly filing Q4 due: January 15, 2025</p>\n                    </div>\n                </div>\n                <div className=\"text-right\">\n                    <p className=\"text-sm text-blue-100\">Last Updated</p>\n                    <p className=\"text-lg font-semibold\">Dec 15, 2024</p>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst MetricsGrid = ({ stats }) => {\n    const defaultStats = [\n        { label: 'Annual Revenue', value: '$845,250', icon: 'üí∞', trend: '‚Üë 23% vs last year', color: 'green' },\n        { label: 'Net Profit', value: '$186,355', icon: 'üìä', sublabel: '22% margin', color: 'blue' },\n        { label: 'Employees', value: '12', icon: 'üë•', trend: '‚Üë 3 added this year', color: 'purple' },\n        { label: 'Tax Liability', value: '$42,180', icon: 'üìÑ', sublabel: 'Estimated for 2024', color: 'orange' },\n    ];\n\n    const metricsData = stats || defaultStats;\n\n    return (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {metricsData.map((stat, idx) => (\n                <div key={idx} className=\"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow transform hover:-translate-y-1 duration-200\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                        <h3 className=\"text-sm font-medium text-gray-500\">{stat.label}</h3>\n                        <span className=\"text-2xl\">{stat.icon}</span>\n                    </div>\n                    <p className=\"text-3xl font-bold text-gray-900\">{stat.value}</p>\n                    <p className={`text-sm mt-2 ${stat.trend?.includes('‚Üë') ? 'text-green-600' : 'text-gray-600'}`}>\n                        {stat.trend || stat.sublabel}\n                    </p>\n                </div>\n            ))}\n        </div>\n    );\n};\n\nconst AIRecommendations = ({ recommendations, onRunSimulation }) => {\n    const defaultRecs = [\n        {\n            type: 'growth',\n            icon: 'üöÄ',\n            title: 'Growth Opportunity: Hire 2 Sales Reps',\n            description: 'Based on your current $70K/customer acquisition, adding 2 sales reps could generate $420K additional revenue',\n            impact: '+$52K Profit',\n            bgColor: 'from-green-50 to-emerald-50',\n            borderColor: 'border-green-500',\n            badgeColor: 'bg-green-600',\n            details: { impact: 'High', difficulty: 'Medium' }\n        },\n        {\n            type: 'profitability',\n            icon: 'üìà',\n            title: 'Profitability: Your margin is 15% below industry average',\n            description: 'Tech services companies average 37% profit margin. Consider reducing COGS by 3% and optimizing labor costs',\n            impact: '+$25K/year',\n            bgColor: 'from-blue-50 to-indigo-50',\n            borderColor: 'border-blue-500',\n            badgeColor: 'bg-blue-600',\n            metrics: { current: '22%', industry: '37%', potential: '31%' }\n        },\n        {\n            type: 'entity',\n            icon: 'üè¢',\n            title: 'Tax Strategy: Consider C-Corp Election for 2025',\n            description: 'Based on your profit level ($186K), C-Corp could save $8,400 annually vs S-Corp due to QBI phase-out',\n            impact: '$8.4K Savings',\n            bgColor: 'from-purple-50 to-pink-50',\n            borderColor: 'border-purple-500',\n            badgeColor: 'bg-purple-600',\n            cta: 'Compare Entities'\n        },\n        {\n            type: 'compliance',\n            icon: '‚ö†Ô∏è',\n            title: 'Compliance: BOI Filing Due January 1, 2025',\n            description: 'Beneficial Ownership Information reporting required by FinCEN. Penalty: $500/day if late',\n            impact: 'URGENT',\n            bgColor: 'from-red-50 to-orange-50',\n            borderColor: 'border-red-500',\n            badgeColor: 'bg-red-600',\n            urgent: true\n        },\n        {\n            type: 'equipment',\n            icon: 'üíª',\n            title: 'Equipment Purchase: Buy before Dec 31 for Section 179 deduction',\n            description: 'Planning to buy $15K in equipment? Immediate deduction saves $3,300 vs 5-year depreciation',\n            impact: '$3.3K Savings',\n            bgColor: 'from-yellow-50 to-amber-50',\n            borderColor: 'border-yellow-500',\n            badgeColor: 'bg-yellow-600',\n            deadline: 'Dec 31, 2024'\n        }\n    ];\n\n    const recs = recommendations || defaultRecs;\n\n    return (\n        <div className=\"bg-white rounded-lg shadow\">\n            <div className=\"px-6 py-4 border-b border-gray-200\">\n                <div className=\"flex items-center justify-between\">\n                    <h2 className=\"text-xl font-bold text-gray-900 flex items-center\">\n                        <span className=\"mr-2\">ü§ñ</span>\n                        AI-Powered Recommendations\n                    </h2>\n                    <span className=\"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium\">\n                        $87,500 Potential Savings\n                    </span>\n                </div>\n            </div>\n            <div className=\"p-6 space-y-4\">\n                {recs.map((rec, idx) => (\n                    <RecommendationCard key={idx} recommendation={rec} onRunSimulation={onRunSimulation} />\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst RecommendationCard = ({ recommendation, onRunSimulation }) => {\n    return (\n        <div className={`bg-gradient-to-r ${recommendation.bgColor} rounded-lg p-4 border-l-4 ${recommendation.borderColor}`}>\n            <div className=\"flex items-start justify-between mb-3\">\n                <div className=\"flex items-start space-x-3\">\n                    <span className=\"text-xl mt-1\">{recommendation.icon}</span>\n                    <div>\n                        <h3 className=\"font-semibold text-gray-900\">{recommendation.title}</h3>\n                        <p className=\"text-sm text-gray-600 mt-1\">{recommendation.description}</p>\n                    </div>\n                </div>\n                <span className={`px-3 py-1 ${recommendation.badgeColor} text-white rounded-full text-xs font-medium whitespace-nowrap`}>\n                    {recommendation.impact}\n                </span>\n            </div>\n\n            {recommendation.metrics && (\n                <div className=\"mt-3 grid grid-cols-3 gap-3 text-sm\">\n                    <div className=\"bg-white rounded p-2\">\n                        <p className=\"text-gray-500\">Current Margin</p>\n                        <p className=\"font-bold text-gray-900\">{recommendation.metrics.current}</p>\n                    </div>\n                    <div className=\"bg-white rounded p-2\">\n                        <p className=\"text-gray-500\">Industry Avg</p>\n                        <p className=\"font-bold text-gray-900\">{recommendation.metrics.industry}</p>\n                    </div>\n                    <div className=\"bg-white rounded p-2\">\n                        <p className=\"text-gray-500\">Potential</p>\n                        <p className=\"font-bold text-green-600\">{recommendation.metrics.potential}</p>\n                    </div>\n                </div>\n            )}\n\n            <div className=\"flex items-center justify-between text-sm mt-3\">\n                {recommendation.details && (\n                    <>\n                        <span className=\"text-gray-600\">Impact: <span className=\"font-medium text-gray-900\">{recommendation.details.impact}</span></span>\n                        <span className=\"text-gray-600\">Difficulty: <span className=\"font-medium text-gray-900\">{recommendation.details.difficulty}</span></span>\n                    </>\n                )}\n                {recommendation.deadline && (\n                    <span className=\"text-gray-600\">Deadline: <span className=\"font-medium text-red-600\">{recommendation.deadline}</span></span>\n                )}\n                {recommendation.urgent && (\n                    <button className=\"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition\">\n                        <span className=\"mr-2\">üìÑ</span>Complete BOI Filing Now\n                    </button>\n                )}\n                {!recommendation.urgent && (\n                    <button\n                        onClick={() => onRunSimulation(recommendation.type)}\n                        className=\"text-indigo-600 hover:text-indigo-700 font-medium\"\n                    >\n                        {recommendation.cta || 'Run Simulation'} ‚Üí\n                    </button>\n                )}\n            </div>\n        </div>\n    );\n};\n\nconst QuickActionsGrid = ({ onOpenModal }) => {\n    const actions = [\n        { icon: 'üí¨', title: 'Message Tax Preparer', description: 'Ask questions or send documents' },\n        { icon: 'üßÆ', title: 'Run Tax Simulation', description: 'Compare entity structures' },\n        { icon: 'üì§', title: 'Upload Documents', description: 'Financial statements, receipts' },\n    ];\n\n    return (\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            {actions.map((action, idx) => (\n                <button\n                    key={idx}\n                    onClick={() => onOpenModal('message')}\n                    className=\"bg-white rounded-lg shadow p-6 hover:shadow-lg transition text-left\"\n                >\n                    <div className=\"flex items-center space-x-3 mb-3\">\n                        <div className=\"bg-indigo-100 p-3 rounded-full\">\n                            <span className=\"text-indigo-600 text-xl\">{action.icon}</span>\n                        </div>\n                        <h3 className=\"font-semibold text-gray-900\">{action.title}</h3>\n                    </div>\n                    <p className=\"text-sm text-gray-600\">{action.description}</p>\n                </button>\n            ))}\n        </div>\n    );\n};\n\n// Placeholder components for other tabs\nconst ProfileTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üè¢ Business Profile</h3><p className=\"mt-4 text-gray-600\">Manage your business information and settings.</p></div>;\nconst FinancialTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üìà Financial</h3><p className=\"mt-4 text-gray-600\">View profit & loss, balance sheet, and cash flow.</p></div>;\nconst PayrollTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üë• Payroll</h3><p className=\"mt-4 text-gray-600\">Manage employees and payroll tax filings.</p></div>;\nconst SimulationsTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üß™ Tax Simulations</h3><p className=\"mt-4 text-gray-600\">Run entity comparisons and tax scenarios.</p></div>;\nconst ComplianceTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">‚úÖ Compliance</h3><p className=\"mt-4 text-gray-600\">Track deadlines and regulatory requirements.</p></div>;\nconst DocumentsTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üìÅ Documents</h3><p className=\"mt-4 text-gray-600\">Upload and manage business documents.</p></div>;\nconst MessagesTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üí¨ Messages</h3><p className=\"mt-4 text-gray-600\">Communicate with your tax professional.</p></div>;\nconst SubscriptionTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">üí≥ Subscription</h3><p className=\"mt-4 text-gray-600\">Manage subscription and billing.</p></div>;\nconst SettingsTab = () => <div className=\"bg-white rounded-lg shadow p-6\"><h3 className=\"text-xl font-bold\">‚öôÔ∏è Settings</h3><p className=\"mt-4 text-gray-600\">Update business settings and preferences.</p></div>;\n\n// Modal components\nconst MessageModal = ({ onClose }) => (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm\" onClick={onClose}>\n        <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4\" onClick={e => e.stopPropagation()}>\n            <h3 className=\"text-2xl font-bold mb-4\">üí¨ Message Tax Preparer</h3>\n            <textarea className=\"w-full border border-gray-300 rounded-lg p-3 mb-4\" rows=\"6\" placeholder=\"Type your message here...\"></textarea>\n            <div className=\"flex justify-end space-x-3\">\n                <button onClick={onClose} className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\">Cancel</button>\n                <button className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\">Send Message</button>\n            </div>\n        </div>\n    </div>\n);\n\nconst SimulationModal = ({ result, onClose }) => (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm\" onClick={onClose}>\n        <div className=\"bg-white rounded-lg p-6 max-w-3xl w-full mx-4\" onClick={e => e.stopPropagation()}>\n            <h3 className=\"text-2xl font-bold mb-4\">üß™ Simulation Results</h3>\n            <p className=\"text-gray-600 mb-4\">Simulation results will appear here...</p>\n            <div className=\"flex justify-end\">\n                <button onClick={onClose} className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700\">Close</button>\n            </div>\n        </div>\n    </div>\n);\n","import React from 'react';\n\nexport const StatCard = ({\n    title,\n    value,\n    icon,\n    trend,\n    color = 'blue',\n    subtitle,\n    onClick\n}) => {\n    const colorClasses = {\n        blue: 'from-blue-500 to-blue-600',\n        purple: 'from-purple-500 to-purple-600',\n        green: 'from-green-500 to-green-600',\n        red: 'from-red-500 to-red-600',\n        orange: 'from-orange-500 to-orange-600',\n        teal: 'from-teal-500 to-teal-600',\n    };\n\n    const getTrendIcon = (trend) => {\n        if (!trend) return null;\n        if (trend > 0) return '‚Üó';\n        if (trend < 0) return '‚Üò';\n        return '‚Üí';\n    };\n\n    const getTrendColor = (trend) => {\n        if (!trend) return 'text-gray-400';\n        if (trend > 0) return 'text-green-400';\n        if (trend < 0) return 'text-red-400';\n        return 'text-gray-400';\n    };\n\n    return (\n        <div\n            className={`bg-gradient-to-br ${colorClasses[color]} rounded-lg shadow-lg p-6 text-white ${onClick ? 'cursor-pointer hover:shadow-xl transition-shadow' : ''}`}\n            onClick={onClick}\n        >\n            <div className=\"flex items-start justify-between\">\n                <div>\n                    <p className=\"text-white/80 text-sm font-medium\">{title}</p>\n                    <h3 className=\"text-3xl font-bold mt-2\">{value}</h3>\n                    {subtitle && (\n                        <p className=\"text-white/70 text-xs mt-1\">{subtitle}</p>\n                    )}\n                </div>\n                {icon && (\n                    <div className=\"text-4xl opacity-80\">{icon}</div>\n                )}\n            </div>\n            {trend !== undefined && (\n                <div className=\"mt-4 flex items-center text-sm\">\n                    <span className={getTrendColor(trend)}>{getTrendIcon(trend)}</span>\n                    <span className=\"ml-1 text-white/90\">\n                        {Math.abs(trend)}% vs last period\n                    </span>\n                </div>\n            )}\n        </div>\n    );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { dashboardService } from '../../services/dashboard';\nimport { formatCurrency, formatDate, formatRelativeTime } from '../../utils/formatters';\nimport { LoadingSpinner } from '../shared/LoadingSpinner';\nimport { StatCard } from '../shared/StatCard';\n\nexport const TaxProfessionalDashboard = () => {\n    const { user } = useAuth();\n    const [dashboardData, setDashboardData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [selectedView, setSelectedView] = useState('clients'); // clients, pipeline, team, reports\n    const [filters, setFilters] = useState({\n        status: 'all',\n        priority: 'all',\n        search: ''\n    });\n\n    useEffect(() => {\n        loadDashboard();\n    }, []);\n\n    const loadDashboard = async () => {\n        try {\n            setLoading(true);\n            const data = await dashboardService.getTaxProfessionalDashboard();\n            setDashboardData(data);\n        } catch (error) {\n            console.error('Failed to load dashboard:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (loading) return <LoadingSpinner message=\"Loading professional dashboard...\" />;\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Professional Header */}\n            <div className=\"bg-white rounded-lg shadow p-6\">\n                <div className=\"flex justify-between items-start\">\n                    <div>\n                        <h1 className=\"text-3xl font-bold text-gray-900\">\n                            Welcome back, {user.firstName}!\n                        </h1>\n                        <p className=\"text-gray-600 mt-1\">\n                            Tax Professional Dashboard ‚Ä¢ {dashboardData?.client_count || 0} Active Clients\n                        </p>\n                    </div>\n                    <div className=\"flex gap-3\">\n                        <button className=\"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700\">\n                            + New Client\n                        </button>\n                        <button className=\"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\">\n                            Export Report\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {/* Key Metrics */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6\">\n                <StatCard\n                    title=\"Active Clients\"\n                    value={dashboardData?.client_count || 0}\n                    icon=\"üë•\"\n                    color=\"blue\"\n                />\n                <StatCard\n                    title=\"Returns Pending\"\n                    value={dashboardData?.pending_returns || 0}\n                    icon=\"üìã\"\n                    color=\"orange\"\n                />\n                <StatCard\n                    title=\"Returns Filed (YTD)\"\n                    value={dashboardData?.filed_ytd || 0}\n                    icon=\"‚úÖ\"\n                    color=\"green\"\n                    trend={dashboardData?.filed_trend}\n                />\n                <StatCard\n                    title=\"Billable Hours\"\n                    value={dashboardData?.billable_hours || 0}\n                    icon=\"‚è∞\"\n                    color=\"purple\"\n                    subtitle=\"this month\"\n                />\n                <StatCard\n                    title=\"Revenue (MTD)\"\n                    value={formatCurrency(dashboardData?.revenue_mtd || 0)}\n                    icon=\"üí∞\"\n                    color=\"teal\"\n                    trend={dashboardData?.revenue_trend}\n                />\n            </div>\n\n            {/* View Tabs */}\n            <div className=\"bg-white rounded-lg shadow\">\n                <div className=\"border-b border-gray-200\">\n                    <nav className=\"flex -mb-px\">\n                        {[\n                            { id: 'clients', label: 'Client Portfolio', icon: 'üë•' },\n                            { id: 'pipeline', label: 'Work Pipeline', icon: 'üìä' },\n                            { id: 'team', label: 'Team Activity', icon: 'üë®‚Äçüíº' },\n                            { id: 'reports', label: 'Reports & Analytics', icon: 'üìà' }\n                        ].map(tab => (\n                            <button\n                                key={tab.id}\n                                onClick={() => setSelectedView(tab.id)}\n                                className={`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${\n                                    selectedView === tab.id\n                                        ? 'border-teal-600 text-teal-600'\n                                        : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                                }`}\n                            >\n                                <span className=\"mr-2\">{tab.icon}</span>\n                                {tab.label}\n                            </button>\n                        ))}\n                    </nav>\n                </div>\n            </div>\n\n            {/* Content based on selected view */}\n            {selectedView === 'clients' && (\n                <ClientPortfolioView\n                    data={dashboardData?.clients}\n                    filters={filters}\n                    setFilters={setFilters}\n                />\n            )}\n            {selectedView === 'pipeline' && <WorkPipelineView data={dashboardData?.pipeline} />}\n            {selectedView === 'team' && <TeamActivityView data={dashboardData?.team} />}\n            {selectedView === 'reports' && <ReportsView data={dashboardData?.analytics} />}\n        </div>\n    );\n};\n\nconst ClientPortfolioView = ({ data, filters, setFilters }) => {\n    const [clients, setClients] = useState(data || []);\n\n    useEffect(() => {\n        // Filter clients based on current filters\n        let filtered = data || [];\n\n        if (filters.status !== 'all') {\n            filtered = filtered.filter(c => c.status === filters.status);\n        }\n        if (filters.priority !== 'all') {\n            filtered = filtered.filter(c => c.priority === filters.priority);\n        }\n        if (filters.search) {\n            filtered = filtered.filter(c =>\n                c.name.toLowerCase().includes(filters.search.toLowerCase())\n            );\n        }\n\n        setClients(filtered);\n    }, [data, filters]);\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Filters */}\n            <div className=\"bg-white rounded-lg shadow p-4\">\n                <div className=\"flex gap-4 items-center\">\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search clients...\"\n                        value={filters.search}\n                        onChange={(e) => setFilters({ ...filters, search: e.target.value })}\n                        className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500\"\n                    />\n                    <select\n                        value={filters.status}\n                        onChange={(e) => setFilters({ ...filters, status: e.target.value })}\n                        className=\"px-4 py-2 border border-gray-300 rounded-lg\"\n                    >\n                        <option value=\"all\">All Status</option>\n                        <option value=\"pending\">Pending</option>\n                        <option value=\"in_progress\">In Progress</option>\n                        <option value=\"under_review\">Under Review</option>\n                        <option value=\"filed\">Filed</option>\n                    </select>\n                    <select\n                        value={filters.priority}\n                        onChange={(e) => setFilters({ ...filters, priority: e.target.value })}\n                        className=\"px-4 py-2 border border-gray-300 rounded-lg\"\n                    >\n                        <option value=\"all\">All Priority</option>\n                        <option value=\"high\">High</option>\n                        <option value=\"medium\">Medium</option>\n                        <option value=\"low\">Low</option>\n                    </select>\n                </div>\n            </div>\n\n            {/* Client List */}\n            <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                        <tr>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Client</th>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Priority</th>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Deadline</th>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Est. Refund/Due</th>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Last Activity</th>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                        {clients.map((client, idx) => (\n                            <tr key={idx} className=\"hover:bg-gray-50\">\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <div className=\"flex items-center\">\n                                        <div className=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                                            <span className=\"text-sm font-medium text-blue-600\">\n                                                {client.initials || client.name.charAt(0)}\n                                            </span>\n                                        </div>\n                                        <div className=\"ml-4\">\n                                            <div className=\"text-sm font-medium text-gray-900\">{client.name}</div>\n                                            <div className=\"text-sm text-gray-500\">{client.email}</div>\n                                        </div>\n                                    </div>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                                        client.status === 'filed' ? 'bg-green-100 text-green-800' :\n                                        client.status === 'under_review' ? 'bg-blue-100 text-blue-800' :\n                                        client.status === 'in_progress' ? 'bg-yellow-100 text-yellow-800' :\n                                        'bg-gray-100 text-gray-800'\n                                    }`}>\n                                        {client.status_label || client.status}\n                                    </span>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\n                                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                                        client.priority === 'high' ? 'bg-red-100 text-red-800' :\n                                        client.priority === 'medium' ? 'bg-orange-100 text-orange-800' :\n                                        'bg-blue-100 text-blue-800'\n                                    }`}>\n                                        {client.priority}\n                                    </span>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                    {formatDate(client.deadline)}\n                                    {client.days_until_deadline < 30 && (\n                                        <span className=\"ml-2 text-xs text-red-600\">\n                                            ({client.days_until_deadline} days)\n                                        </span>\n                                    )}\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                                    <span className={client.estimated_balance > 0 ? 'text-red-600' : 'text-green-600'}>\n                                        {formatCurrency(Math.abs(client.estimated_balance || 0))}\n                                        <span className=\"text-xs ml-1\">\n                                            {client.estimated_balance > 0 ? 'due' : 'refund'}\n                                        </span>\n                                    </span>\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                                    {formatRelativeTime(client.last_activity)}\n                                </td>\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                                    <button className=\"text-teal-600 hover:text-teal-700 font-medium\">\n                                        View\n                                    </button>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n};\n\nconst WorkPipelineView = ({ data }) => {\n    return (\n        <div className=\"space-y-6\">\n            {/* Pipeline Overview */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                {[\n                    { stage: 'Documents Needed', count: data?.documents_needed || 0, color: 'red' },\n                    { stage: 'In Progress', count: data?.in_progress || 0, color: 'yellow' },\n                    { stage: 'Ready for Review', count: data?.ready_for_review || 0, color: 'blue' },\n                    { stage: 'Ready to File', count: data?.ready_to_file || 0, color: 'green' }\n                ].map((stage, idx) => (\n                    <div key={idx} className=\"bg-white rounded-lg shadow p-6\">\n                        <div className={`text-${stage.color}-600 text-sm font-medium mb-2`}>\n                            {stage.stage}\n                        </div>\n                        <div className=\"text-3xl font-bold text-gray-900\">{stage.count}</div>\n                        <div className=\"text-sm text-gray-500 mt-2\">\n                            {stage.count > 0 ? 'clients' : 'Clear!'}\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            {/* Upcoming Deadlines */}\n            <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Upcoming Deadlines</h3>\n\n                <div className=\"space-y-4\">\n                    {data?.upcoming_deadlines?.map((item, idx) => (\n                        <div key={idx} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow\">\n                            <div className=\"flex items-center gap-4\">\n                                <div className={`w-16 h-16 rounded-lg flex flex-col items-center justify-center ${\n                                    item.days_until < 7 ? 'bg-red-100' : 'bg-blue-100'\n                                }`}>\n                                    <div className={`text-xs font-medium ${\n                                        item.days_until < 7 ? 'text-red-600' : 'text-blue-600'\n                                    }`}>\n                                        {new Date(item.deadline).toLocaleDateString('en-US', { month: 'short' })}\n                                    </div>\n                                    <div className={`text-xl font-bold ${\n                                        item.days_until < 7 ? 'text-red-600' : 'text-blue-600'\n                                    }`}>\n                                        {new Date(item.deadline).getDate()}\n                                    </div>\n                                </div>\n                                <div>\n                                    <div className=\"font-semibold text-gray-900\">{item.client_name}</div>\n                                    <div className=\"text-sm text-gray-600\">{item.return_type}</div>\n                                    <div className={`text-xs mt-1 ${\n                                        item.days_until < 7 ? 'text-red-600 font-medium' : 'text-gray-500'\n                                    }`}>\n                                        {item.days_until === 0 ? 'Due today!' :\n                                         item.days_until === 1 ? 'Due tomorrow' :\n                                         `${item.days_until} days remaining`}\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"flex gap-2\">\n                                <button className=\"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm\">\n                                    Work On This\n                                </button>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {/* Tasks & To-Dos */}\n            <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Your Tasks</h3>\n\n                <div className=\"space-y-3\">\n                    {data?.tasks?.map((task, idx) => (\n                        <div key={idx} className=\"flex items-center gap-3 p-3 border border-gray-200 rounded-lg\">\n                            <input\n                                type=\"checkbox\"\n                                checked={task.completed}\n                                className=\"w-5 h-5 text-teal-600 rounded\"\n                            />\n                            <div className=\"flex-1\">\n                                <div className={`text-sm ${task.completed ? 'line-through text-gray-500' : 'text-gray-900'}`}>\n                                    {task.description}\n                                </div>\n                                <div className=\"text-xs text-gray-500 mt-1\">\n                                    {task.client_name} ‚Ä¢ {task.category}\n                                </div>\n                            </div>\n                            <div className=\"text-xs text-gray-500\">\n                                {formatDate(task.due_date)}\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst TeamActivityView = ({ data }) => {\n    return (\n        <div className=\"space-y-6\">\n            {/* Team Performance */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <StatCard\n                    title=\"Team Members\"\n                    value={data?.team_size || 0}\n                    icon=\"üë•\"\n                    color=\"blue\"\n                />\n                <StatCard\n                    title=\"Returns This Month\"\n                    value={data?.returns_this_month || 0}\n                    icon=\"üìã\"\n                    color=\"green\"\n                />\n                <StatCard\n                    title=\"Avg. Time to File\"\n                    value={`${data?.avg_days_to_file || 0} days`}\n                    icon=\"‚è±Ô∏è\"\n                    color=\"purple\"\n                />\n            </div>\n\n            {/* Team Member List */}\n            <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Team Activity</h3>\n\n                <div className=\"space-y-4\">\n                    {data?.team_members?.map((member, idx) => (\n                        <div key={idx} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\n                            <div className=\"flex items-center gap-4\">\n                                <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center\">\n                                    <span className=\"text-sm font-medium text-blue-600\">\n                                        {member.initials}\n                                    </span>\n                                </div>\n                                <div>\n                                    <div className=\"font-semibold text-gray-900\">{member.name}</div>\n                                    <div className=\"text-sm text-gray-600\">{member.role}</div>\n                                </div>\n                            </div>\n                            <div className=\"grid grid-cols-3 gap-8 text-center\">\n                                <div>\n                                    <div className=\"text-2xl font-bold text-gray-900\">{member.active_clients}</div>\n                                    <div className=\"text-xs text-gray-500\">Active Clients</div>\n                                </div>\n                                <div>\n                                    <div className=\"text-2xl font-bold text-gray-900\">{member.returns_filed}</div>\n                                    <div className=\"text-xs text-gray-500\">Returns Filed</div>\n                                </div>\n                                <div>\n                                    <div className=\"text-2xl font-bold text-gray-900\">{member.hours_logged}</div>\n                                    <div className=\"text-xs text-gray-500\">Hours Logged</div>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst ReportsView = ({ data }) => {\n    return (\n        <div className=\"space-y-6\">\n            {/* Key Metrics */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                <StatCard\n                    title=\"Total Revenue YTD\"\n                    value={formatCurrency(data?.revenue_ytd || 0)}\n                    icon=\"üí∞\"\n                    color=\"green\"\n                    trend={data?.revenue_growth}\n                />\n                <StatCard\n                    title=\"Avg. Fee per Return\"\n                    value={formatCurrency(data?.avg_fee || 0)}\n                    icon=\"üìä\"\n                    color=\"blue\"\n                />\n                <StatCard\n                    title=\"Client Retention\"\n                    value={`${data?.retention_rate || 0}%`}\n                    icon=\"üîÑ\"\n                    color=\"purple\"\n                />\n                <StatCard\n                    title=\"Client Satisfaction\"\n                    value={`${data?.satisfaction_score || 0}/5.0`}\n                    icon=\"‚≠ê\"\n                    color=\"orange\"\n                />\n            </div>\n\n            {/* Charts and Analytics would go here */}\n            <div className=\"bg-white rounded-lg shadow p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Revenue Trend</h3>\n                <div className=\"h-64 flex items-center justify-center text-gray-400\">\n                    Revenue chart visualization\n                </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"bg-white rounded-lg shadow p-6\">\n                    <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Returns by Type</h3>\n                    <div className=\"h-48 flex items-center justify-center text-gray-400\">\n                        Pie chart visualization\n                    </div>\n                </div>\n                <div className=\"bg-white rounded-lg shadow p-6\">\n                    <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Client Acquisition</h3>\n                    <div className=\"h-48 flex items-center justify-center text-gray-400\">\n                        Line chart visualization\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { dashboardService } from '../../services/dashboard';\nimport { formatCurrency, formatDate } from '../../utils/formatters';\nimport { LoadingSpinner } from '../shared/LoadingSpinner';\n\nexport const AdminDashboard = () => {\n    const { user } = useAuth();\n    const [dashboardData, setDashboardData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [activeView, setActiveView] = useState('overview'); // overview, users, integrations, billing, analytics, settings\n\n    useEffect(() => {\n        loadDashboard();\n    }, []);\n\n    const loadDashboard = async () => {\n        try {\n            setLoading(true);\n            const data = await dashboardService.getAdminDashboard();\n            setDashboardData(data);\n        } catch (error) {\n            console.error('Failed to load dashboard:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (loading) return <LoadingSpinner message=\"Loading admin dashboard...\" />;\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Header */}\n            <div className=\"bg-gradient-to-r from-purple-600 to-purple-700 rounded-lg shadow-lg p-6 text-white\">\n                <div className=\"flex justify-between items-start\">\n                    <div>\n                        <h1 className=\"text-3xl font-bold\">Admin Control Panel</h1>\n                        <p className=\"mt-1 opacity-90\">System-wide management and analytics</p>\n                    </div>\n                    <div className=\"flex gap-3\">\n                        <button className=\"px-4 py-2 bg-white text-purple-600 rounded-lg hover:bg-gray-100 font-medium\">\n                            System Health\n                        </button>\n                        <button className=\"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-400\">\n                            Settings\n                        </button>\n                    </div>\n                </div>\n\n                {/* System Status Indicators */}\n                <div className=\"grid grid-cols-4 gap-4 mt-6\">\n                    {[\n                        { label: 'API Status', value: 'Operational', color: 'green' },\n                        { label: 'DB Performance', value: '98%', color: 'green' },\n                        { label: 'Integration Sync', value: 'Active', color: 'green' },\n                        { label: 'Error Rate', value: '0.02%', color: 'green' },\n                    ].map((metric, idx) => (\n                        <div key={idx} className=\"bg-white bg-opacity-20 rounded-lg p-3\">\n                            <div className=\"text-sm opacity-90\">{metric.label}</div>\n                            <div className=\"text-xl font-bold mt-1\">{metric.value}</div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {/* KPI Overview */}\n            <AdminKPIGrid data={dashboardData?.kpis} />\n\n            {/* Navigation Tabs */}\n            <div className=\"bg-white rounded-lg shadow\">\n                <div className=\"border-b border-gray-200\">\n                    <nav className=\"flex space-x-8 px-6\" aria-label=\"Tabs\">\n                        {[\n                            { id: 'overview', label: 'Overview', icon: 'üìä' },\n                            { id: 'users', label: 'Users', icon: 'üë•' },\n                            { id: 'integrations', label: 'Integrations', icon: 'üîó' },\n                            { id: 'billing', label: 'Billing', icon: 'üí≥' },\n                            { id: 'analytics', label: 'Analytics', icon: 'üìà' },\n                            { id: 'settings', label: 'Settings', icon: '‚öôÔ∏è' },\n                        ].map((tab) => (\n                            <button\n                                key={tab.id}\n                                onClick={() => setActiveView(tab.id)}\n                                className={`\n                                    py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap\n                                    ${activeView === tab.id\n                                        ? 'border-purple-600 text-purple-600'\n                                        : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                                    }\n                                `}\n                            >\n                                <span className=\"mr-2\">{tab.icon}</span>\n                                {tab.label}\n                            </button>\n                        ))}\n                    </nav>\n                </div>\n\n                <div className=\"p-6\">\n                    {activeView === 'overview' && <AdminOverviewTab data={dashboardData} />}\n                    {activeView === 'users' && <UsersManagementTab data={dashboardData?.users} />}\n                    {activeView === 'integrations' && <IntegrationsHealthTab data={dashboardData?.integrations} />}\n                    {activeView === 'billing' && <BillingManagementTab data={dashboardData?.billing} />}\n                    {activeView === 'analytics' && <SystemAnalyticsTab data={dashboardData?.analytics} />}\n                    {activeView === 'settings' && <SystemSettingsTab data={dashboardData?.settings} />}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst AdminKPIGrid = ({ data }) => {\n    return (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4\">\n            <KPICard title=\"Total Users\" value={data?.total_users} icon=\"üë•\" trend={data?.user_growth} color=\"blue\" />\n            <KPICard title=\"Active Businesses\" value={data?.active_businesses} icon=\"üè¢\" color=\"green\" />\n            <KPICard title=\"MRR\" value={formatCurrency(data?.mrr)} icon=\"üí∞\" trend={data?.revenue_growth} color=\"purple\" />\n            <KPICard title=\"Returns Filed YTD\" value={data?.returns_filed_ytd} icon=\"üìÑ\" color=\"orange\" />\n            <KPICard title=\"API Uptime\" value={`${data?.api_uptime}%`} icon=\"‚ö°\" color=\"green\" />\n            <KPICard title=\"Support Tickets\" value={data?.open_tickets} icon=\"üé´\" color=\"red\" />\n        </div>\n    );\n};\n\nconst KPICard = ({ title, value, icon, trend, color }) => {\n    const colorClasses = {\n        blue: 'bg-blue-50 border-blue-200 text-blue-900',\n        green: 'bg-green-50 border-green-200 text-green-900',\n        purple: 'bg-purple-50 border-purple-200 text-purple-900',\n        orange: 'bg-orange-50 border-orange-200 text-orange-900',\n        red: 'bg-red-50 border-red-200 text-red-900',\n    };\n\n    return (\n        <div className={`${colorClasses[color]} border rounded-lg p-4`}>\n            <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-2xl\">{icon}</span>\n                {trend && (\n                    <span className={`text-xs font-semibold ${trend > 0 ? 'text-green-600' : 'text-red-600'}`}>\n                        {trend > 0 ? '‚Üë' : '‚Üì'} {Math.abs(trend)}%\n                    </span>\n                )}\n            </div>\n            <div className=\"text-2xl font-bold\">{value}</div>\n            <div className=\"text-sm opacity-75 mt-1\">{title}</div>\n        </div>\n    );\n};\n\nconst AdminOverviewTab = ({ data }) => {\n    return (\n        <div className=\"space-y-6\">\n            {/* System Health Overview */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <SystemHealthWidget health={data?.system_health} />\n                <RealtimeActivityWidget activity={data?.realtime_activity} />\n            </div>\n\n            {/* Growth Metrics */}\n            <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Growth Metrics</h3>\n                <div className=\"grid grid-cols-4 gap-6\">\n                    {data?.growth_metrics?.map((metric, idx) => (\n                        <div key={idx} className=\"text-center\">\n                            <div className=\"text-3xl font-bold text-gray-900\">{metric.value}</div>\n                            <div className=\"text-sm text-gray-600 mt-1\">{metric.label}</div>\n                            <div className={`text-sm mt-1 ${metric.change > 0 ? 'text-green-600' : 'text-red-600'}`}>\n                                {metric.change > 0 ? '‚Üë' : '‚Üì'} {Math.abs(metric.change)}%\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {/* Critical Alerts */}\n            <CriticalAlertsWidget alerts={data?.critical_alerts} />\n\n            {/* Recent Activity Log */}\n            <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Recent Admin Actions</h3>\n                <div className=\"space-y-2\">\n                    {data?.recent_admin_actions?.map((action, idx) => (\n                        <div key={idx} className=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg text-sm\">\n                            <div className=\"flex items-center gap-3\">\n                                <span className=\"text-lg\">{action.icon}</span>\n                                <div>\n                                    <span className=\"font-medium text-gray-900\">{action.admin_name}</span>\n                                    <span className=\"text-gray-600\"> {action.action}</span>\n                                </div>\n                            </div>\n                            <span className=\"text-gray-500\">{action.time_ago}</span>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst SystemHealthWidget = ({ health }) => {\n    const getHealthColor = (score) => {\n        if (score >= 95) return 'green';\n        if (score >= 80) return 'yellow';\n        return 'red';\n    };\n\n    const color = getHealthColor(health?.overall_score);\n\n    return (\n        <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-6\">System Health</h3>\n\n            <div className=\"flex items-center justify-center mb-6\">\n                <div className=\"relative w-40 h-40\">\n                    <svg className=\"transform -rotate-90 w-40 h-40\">\n                        <circle cx=\"80\" cy=\"80\" r=\"70\" stroke=\"currentColor\" strokeWidth=\"10\" fill=\"transparent\" className=\"text-gray-200\" />\n                        <circle\n                            cx=\"80\"\n                            cy=\"80\"\n                            r=\"70\"\n                            stroke=\"currentColor\"\n                            strokeWidth=\"10\"\n                            fill=\"transparent\"\n                            strokeDasharray={`${2 * Math.PI * 70}`}\n                            strokeDashoffset={`${2 * Math.PI * 70 * (1 - health?.overall_score / 100)}`}\n                            className={`text-${color}-600 transition-all duration-1000`}\n                        />\n                    </svg>\n                    <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n                        <div className=\"text-4xl font-bold text-gray-900\">{health?.overall_score}</div>\n                        <div className=\"text-sm text-gray-600\">Health Score</div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"space-y-3\">\n                {health?.components?.map((comp, idx) => (\n                    <div key={idx} className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-2\">\n                            <div className={`w-3 h-3 rounded-full bg-${getHealthColor(comp.status)}-500`} />\n                            <span className=\"text-sm text-gray-700\">{comp.name}</span>\n                        </div>\n                        <span className=\"text-sm font-medium text-gray-900\">{comp.status}%</span>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst RealtimeActivityWidget = ({ activity }) => {\n    return (\n        <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Real-time Activity</h3>\n\n            <div className=\"space-y-4\">\n                {activity?.map((item, idx) => (\n                    <div key={idx} className=\"flex items-start gap-3\">\n                        <div className={`w-2 h-2 rounded-full mt-2 ${\n                            item.type === 'success' ? 'bg-green-500' :\n                            item.type === 'error' ? 'bg-red-500' :\n                            'bg-blue-500'\n                        } animate-pulse`} />\n                        <div className=\"flex-1\">\n                            <div className=\"text-sm font-medium text-gray-900\">{item.event}</div>\n                            <div className=\"text-xs text-gray-600 mt-1\">{item.details}</div>\n                            <div className=\"text-xs text-gray-500 mt-1\">{item.timestamp}</div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst CriticalAlertsWidget = ({ alerts }) => {\n    if (!alerts || alerts.length === 0) {\n        return (\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-6\">\n                <div className=\"flex items-center gap-3\">\n                    <span className=\"text-3xl\">‚úÖ</span>\n                    <div>\n                        <h4 className=\"font-semibold text-green-900\">All Systems Operational</h4>\n                        <p className=\"text-sm text-green-700\">No critical alerts at this time</p>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n            <h3 className=\"text-lg font-bold text-gray-900 mb-6\">‚ö†Ô∏è Critical Alerts</h3>\n            <div className=\"space-y-3\">\n                {alerts.map((alert, idx) => (\n                    <div key={idx} className={`flex items-start gap-4 p-4 border rounded-lg ${\n                        alert.severity === 'critical' ? 'bg-red-50 border-red-200' :\n                        'bg-yellow-50 border-yellow-200'\n                    }`}>\n                        <span className=\"text-2xl\">{alert.icon}</span>\n                        <div className=\"flex-1\">\n                            <h4 className=\"font-semibold text-gray-900\">{alert.title}</h4>\n                            <p className=\"text-sm text-gray-600 mt-1\">{alert.description}</p>\n                            <div className=\"text-xs text-gray-500 mt-2\">{alert.time_ago}</div>\n                        </div>\n                        <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm whitespace-nowrap\">\n                            Resolve\n                        </button>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nconst UsersManagementTab = ({ data }) => {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [roleFilter, setRoleFilter] = useState('all');\n\n    return (\n        <div className=\"space-y-6\">\n            {/* User Stats */}\n            <div className=\"grid grid-cols-4 gap-4\">\n                {[\n                    { label: 'Total Users', value: data?.total_users, color: 'blue' },\n                    { label: 'Active Today', value: data?.active_today, color: 'green' },\n                    { label: 'New This Month', value: data?.new_this_month, color: 'purple' },\n                    { label: 'Churned', value: data?.churned, color: 'red' },\n                ].map((stat, idx) => (\n                    <div key={idx} className={`bg-${stat.color}-50 border border-${stat.color}-200 rounded-lg p-4`}>\n                        <div className=\"text-2xl font-bold text-gray-900\">{stat.value}</div>\n                        <div className=\"text-sm text-gray-600 mt-1\">{stat.label}</div>\n                    </div>\n                ))}\n            </div>\n\n            {/* User Management Table */}\n            <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                <div className=\"flex justify-between items-center mb-6\">\n                    <h3 className=\"text-lg font-bold text-gray-900\">User Management</h3>\n                    <div className=\"flex gap-3\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"Search users...\"\n                            value={searchTerm}\n                            onChange={(e) => setSearchTerm(e.target.value)}\n                            className=\"px-4 py-2 border border-gray-300 rounded-lg w-64\"\n                        />\n                        <select\n                            value={roleFilter}\n                            onChange={(e) => setRoleFilter(e.target.value)}\n                            className=\"px-4 py-2 border border-gray-300 rounded-lg\"\n                        >\n                            <option value=\"all\">All Roles</option>\n                            <option value=\"taxpayer\">Taxpayers</option>\n                            <option value=\"business_owner\">Business Owners</option>\n                            <option value=\"tax_professional\">Tax Professionals</option>\n                            <option value=\"admin\">Admins</option>\n                        </select>\n                        <button className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700\">\n                            + Add User\n                        </button>\n                    </div>\n                </div>\n\n                <div className=\"overflow-x-auto\">\n                    <table className=\"min-w-full divide-y divide-gray-200\">\n                        <thead className=\"bg-gray-50\">\n                            <tr>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">User</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Role</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Last Active</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Joined</th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"bg-white divide-y divide-gray-200\">\n                            {data?.users?.map((user) => (\n                                <tr key={user.user_id} className=\"hover:bg-gray-50\">\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                                        <div className=\"flex items-center\">\n                                            <div className=\"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-3\">\n                                                <span className=\"text-sm font-bold text-purple-600\">\n                                                    {user.first_name?.[0]}{user.last_name?.[0]}\n                                                </span>\n                                            </div>\n                                            <div>\n                                                <div className=\"text-sm font-medium text-gray-900\">\n                                                    {user.first_name} {user.last_name}\n                                                </div>\n                                                <div className=\"text-sm text-gray-600\">{user.email}</div>\n                                            </div>\n                                        </div>\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                                        <span className=\"px-3 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800\">\n                                            {user.role}\n                                        </span>\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                                        <span className={`px-3 py-1 text-xs font-semibold rounded-full ${\n                                            user.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                                        }`}>\n                                            {user.status}\n                                        </span>\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\n                                        {user.last_active_ago}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600\">\n                                        {formatDate(user.created_at)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm\">\n                                        <button className=\"text-purple-600 hover:text-purple-900 mr-3\">Edit</button>\n                                        <button className=\"text-red-600 hover:text-red-900\">Suspend</button>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst IntegrationsHealthTab = ({ data }) => {\n    return (\n        <div className=\"space-y-6\">\n            {/* Integration Status Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                {data?.integrations?.map((integration, idx) => (\n                    <div key={idx} className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                        <div className=\"flex items-start justify-between mb-4\">\n                            <div className=\"flex items-center gap-3\">\n                                <span className=\"text-3xl\">{integration.icon}</span>\n                                <div>\n                                    <h4 className=\"font-semibold text-gray-900\">{integration.name}</h4>\n                                    <p className=\"text-sm text-gray-600\">{integration.connections_count} connections</p>\n                                </div>\n                            </div>\n                            <div className={`w-3 h-3 rounded-full ${\n                                integration.status === 'healthy' ? 'bg-green-500' :\n                                integration.status === 'degraded' ? 'bg-yellow-500' :\n                                'bg-red-500'\n                            }`} />\n                        </div>\n\n                        <div className=\"space-y-2 text-sm\">\n                            <div className=\"flex justify-between\">\n                                <span className=\"text-gray-600\">Success Rate:</span>\n                                <span className=\"font-medium\">{integration.success_rate}%</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                                <span className=\"text-gray-600\">Avg Response:</span>\n                                <span className=\"font-medium\">{integration.avg_response_time}ms</span>\n                            </div>\n                            <div className=\"flex justify-between\">\n                                <span className=\"text-gray-600\">Last Sync:</span>\n                                <span className=\"font-medium\">{integration.last_sync_ago}</span>\n                            </div>\n                        </div>\n\n                        {integration.recent_errors > 0 && (\n                            <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded text-sm text-red-800\">\n                                {integration.recent_errors} errors in last 24h\n                            </div>\n                        )}\n                    </div>\n                ))}\n            </div>\n\n            {/* API Rate Limits */}\n            <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">API Rate Limit Usage</h3>\n                <div className=\"space-y-4\">\n                    {data?.rate_limits?.map((limit, idx) => (\n                        <div key={idx}>\n                            <div className=\"flex justify-between text-sm mb-2\">\n                                <span className=\"font-medium text-gray-900\">{limit.name}</span>\n                                <span className=\"text-gray-600\">{limit.used} / {limit.limit} requests</span>\n                            </div>\n                            <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                                <div\n                                    className={`rounded-full h-2 ${\n                                        limit.percentage > 90 ? 'bg-red-600' :\n                                        limit.percentage > 75 ? 'bg-yellow-600' :\n                                        'bg-green-600'\n                                    }`}\n                                    style={{ width: `${limit.percentage}%` }}\n                                />\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst BillingManagementTab = ({ data }) => {\n    return (\n        <div className=\"space-y-6\">\n            {/* Revenue Overview */}\n            <div className=\"grid grid-cols-4 gap-4\">\n                {[\n                    { label: 'MRR', value: formatCurrency(data?.mrr), change: '+12%', color: 'purple' },\n                    { label: 'ARR', value: formatCurrency(data?.arr), change: '+18%', color: 'blue' },\n                    { label: 'Churn Rate', value: `${data?.churn_rate}%`, change: '-0.5%', color: 'green' },\n                    { label: 'LTV', value: formatCurrency(data?.ltv), change: '+8%', color: 'orange' },\n                ].map((metric, idx) => (\n                    <div key={idx} className={`bg-${metric.color}-50 border border-${metric.color}-200 rounded-lg p-6`}>\n                        <div className=\"text-sm text-gray-600\">{metric.label}</div>\n                        <div className=\"text-3xl font-bold text-gray-900 mt-2\">{metric.value}</div>\n                        <div className=\"text-sm text-green-600 mt-1\">{metric.change}</div>\n                    </div>\n                ))}\n            </div>\n\n            {/* Subscription Breakdown */}\n            <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Subscription Tiers</h3>\n                <div className=\"grid grid-cols-3 gap-6\">\n                    {data?.tiers?.map((tier, idx) => (\n                        <div key={idx} className=\"border border-gray-200 rounded-lg p-4\">\n                            <h4 className=\"font-semibold text-gray-900 mb-2\">{tier.name}</h4>\n                            <div className=\"text-3xl font-bold text-gray-900 mb-4\">\n                                {tier.subscriber_count}\n                            </div>\n                            <div className=\"text-sm text-gray-600\">\n                                {formatCurrency(tier.mrr)} MRR\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {/* Recent Transactions */}\n            <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Recent Transactions</h3>\n                <div className=\"overflow-x-auto\">\n                    <table className=\"min-w-full divide-y divide-gray-200\">\n                        <thead className=\"bg-gray-50\">\n                            <tr>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Date</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Customer</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Description</th>\n                                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase\">Amount</th>\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\n                            </tr>\n                        </thead>\n                        <tbody className=\"bg-white divide-y divide-gray-200\">\n                            {data?.recent_transactions?.map((txn, idx) => (\n                                <tr key={idx} className=\"hover:bg-gray-50\">\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        {formatDate(txn.date)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        {txn.customer_name}\n                                    </td>\n                                    <td className=\"px-6 py-4 text-sm text-gray-600\">\n                                        {txn.description}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-gray-900\">\n                                        {formatCurrency(txn.amount)}\n                                    </td>\n                                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                                        <span className={`px-3 py-1 text-xs font-semibold rounded-full ${\n                                            txn.status === 'succeeded' ? 'bg-green-100 text-green-800' :\n                                            txn.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :\n                                            'bg-red-100 text-red-800'\n                                        }`}>\n                                            {txn.status}\n                                        </span>\n                                    </td>\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst SystemAnalyticsTab = ({ data }) => {\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">System Analytics</h3>\n                <div className=\"text-center py-12 text-gray-500\">\n                    <p className=\"text-lg\">Advanced analytics dashboard</p>\n                    <p className=\"text-sm mt-2\">Integration with analytics library needed</p>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst SystemSettingsTab = ({ data }) => {\n    return (\n        <div className=\"space-y-6\">\n            {/* Feature Flags */}\n            <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Feature Flags</h3>\n                <div className=\"space-y-3\">\n                    {data?.feature_flags?.map((flag, idx) => (\n                        <div key={idx} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\n                            <div>\n                                <h4 className=\"font-semibold text-gray-900\">{flag.name}</h4>\n                                <p className=\"text-sm text-gray-600 mt-1\">{flag.description}</p>\n                            </div>\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\n                                <input type=\"checkbox\" checked={flag.enabled} className=\"sr-only peer\" />\n                                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600\"></div>\n                            </label>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            {/* System Configuration */}\n            <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">System Configuration</h3>\n                <div className=\"space-y-4\">\n                    {data?.system_config?.map((config, idx) => (\n                        <div key={idx} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\n                            <div>\n                                <div className=\"font-medium text-gray-900\">{config.key}</div>\n                                <div className=\"text-sm text-gray-600 mt-1\">{config.description}</div>\n                            </div>\n                            <div className=\"text-right\">\n                                <div className=\"font-mono text-sm text-gray-900\">{config.value}</div>\n                                <button className=\"text-sm text-purple-600 hover:text-purple-700 mt-1\">Edit</button>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n","import React, { useState } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\n\nexport const Login = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n    const { login } = useAuth();\n    const navigate = useNavigate();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        setLoading(true);\n\n        try {\n            await login(email, password);\n            navigate('/dashboard');\n        } catch (err) {\n            setError(err.message || 'Login failed. Please check your credentials.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleQuickLogin = async (role) => {\n        setError('');\n        setLoading(true);\n\n        const credentials = {\n            taxpayer: { email: 'taxpayer@tax.com', password: 'taxpayer123' },\n            business_owner: { email: 'taxpayer@tax.com', password: 'taxpayer123' }, // Will use demo mode\n            tax_professional: { email: 'preparer@tax.com', password: 'preparer123' },\n            admin: { email: 'admin@tax.com', password: 'admin123' },\n        };\n\n        const cred = credentials[role];\n\n        try {\n            await login(cred.email, cred.password);\n            navigate('/dashboard');\n        } catch (err) {\n            setError(err.message || 'Login failed');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleDemoMode = (role) => {\n        window.location.href = `/dashboard?role=${role}`;\n    };\n\n    return (\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\">\n            <div className=\"bg-white p-8 rounded-lg shadow-2xl max-w-md w-full\">\n                <div className=\"text-center mb-8\">\n                    <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Tax Dashboard</h1>\n                    <p className=\"text-gray-600\">Sign in to access your account</p>\n                </div>\n\n                {error && (\n                    <div className=\"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm\">\n                        {error}\n                    </div>\n                )}\n\n                <form onSubmit={handleSubmit} className=\"space-y-4 mb-6\">\n                    <div>\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                            Email\n                        </label>\n                        <input\n                            id=\"email\"\n                            type=\"email\"\n                            value={email}\n                            onChange={(e) => setEmail(e.target.value)}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                            placeholder=\"you@example.com\"\n                            required\n                        />\n                    </div>\n\n                    <div>\n                        <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                            Password\n                        </label>\n                        <input\n                            id=\"password\"\n                            type=\"password\"\n                            value={password}\n                            onChange={(e) => setPassword(e.target.value)}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                            required\n                        />\n                    </div>\n\n                    <button\n                        type=\"submit\"\n                        disabled={loading}\n                        className=\"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 font-medium transition-colors\"\n                    >\n                        {loading ? 'Signing in...' : 'Sign In'}\n                    </button>\n                </form>\n\n                <div className=\"relative mb-6\">\n                    <div className=\"absolute inset-0 flex items-center\">\n                        <div className=\"w-full border-t border-gray-300\"></div>\n                    </div>\n                    <div className=\"relative flex justify-center text-sm\">\n                        <span className=\"px-2 bg-white text-gray-500\">Or use quick login</span>\n                    </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                    <button\n                        onClick={() => handleQuickLogin('taxpayer')}\n                        disabled={loading}\n                        className=\"w-full px-4 py-2 bg-white border-2 border-blue-500 text-blue-600 rounded-lg hover:bg-blue-50 disabled:opacity-50 text-sm font-medium transition-colors\"\n                    >\n                        üßë Taxpayer (taxpayer@tax.com)\n                    </button>\n\n                    <button\n                        onClick={() => handleDemoMode('business_owner')}\n                        disabled={loading}\n                        className=\"w-full px-4 py-2 bg-white border-2 border-indigo-500 text-indigo-600 rounded-lg hover:bg-indigo-50 disabled:opacity-50 text-sm font-medium transition-colors\"\n                    >\n                        üè¢ Business Owner (Demo Mode)\n                    </button>\n\n                    <button\n                        onClick={() => handleQuickLogin('tax_professional')}\n                        disabled={loading}\n                        className=\"w-full px-4 py-2 bg-white border-2 border-purple-500 text-purple-600 rounded-lg hover:bg-purple-50 disabled:opacity-50 text-sm font-medium transition-colors\"\n                    >\n                        üëî Tax Professional (preparer@tax.com)\n                    </button>\n\n                    <button\n                        onClick={() => handleQuickLogin('admin')}\n                        disabled={loading}\n                        className=\"w-full px-4 py-2 bg-white border-2 border-gray-500 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 text-sm font-medium transition-colors\"\n                    >\n                        ‚öôÔ∏è Admin (admin@tax.com)\n                    </button>\n                </div>\n\n                <div className=\"mt-6 text-center\">\n                    <p className=\"text-xs text-gray-500\">\n                        Demo credentials: Use quick login buttons above\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n};\n","import React, { useState } from 'react';\n\nconst FinchConnect = ({ onClose, onSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleConnect = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const token = localStorage.getItem('auth_token');\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\n\n      // Request Finch authorization URL from backend\n      const response = await fetch('http://localhost:3001/api/v1/integrations/finch/connect', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          taxpayerId: user.userId\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to initiate Finch connection');\n      }\n\n      const data = await response.json();\n\n      // Redirect to Finch authorization page\n      window.location.href = data.authorizationUrl;\n\n    } catch (err) {\n      console.error('Finch connect error:', err);\n      setError(err.message || 'Failed to connect to Finch');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-xl font-bold text-gray-900\">Connect Finch</h3>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"mb-6\">\n          <div className=\"bg-teal-50 border border-teal-200 rounded-lg p-4 mb-4\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-teal-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <h4 className=\"text-sm font-medium text-teal-800\">About Finch</h4>\n                <p className=\"mt-1 text-sm text-teal-700\">\n                  Finch connects to 200+ payroll providers including ADP, Gusto, Paychex, and more.\n                  You'll be able to import employee data, pay runs, and W-2 forms automatically.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"space-y-3\">\n            <h4 className=\"font-semibold text-gray-900 text-sm\">What you'll share:</h4>\n            <ul className=\"space-y-2 text-sm text-gray-600\">\n              <li className=\"flex items-start\">\n                <svg className=\"w-5 h-5 text-teal-600 mr-2 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                </svg>\n                Company information and employee directory\n              </li>\n              <li className=\"flex items-start\">\n                <svg className=\"w-5 h-5 text-teal-600 mr-2 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                </svg>\n                Payroll runs and payment details\n              </li>\n              <li className=\"flex items-start\">\n                <svg className=\"w-5 h-5 text-teal-600 mr-2 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                </svg>\n                Tax forms (W-2, 1099, etc.)\n              </li>\n              <li className=\"flex items-start\">\n                <svg className=\"w-5 h-5 text-teal-600 mr-2 flex-shrink-0\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                </svg>\n                Employment and compensation data\n              </li>\n            </ul>\n          </div>\n\n          {error && (\n            <div className=\"mt-4 bg-red-50 border border-red-200 rounded-md p-3\">\n              <p className=\"text-sm text-red-800\">{error}</p>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex space-x-3\">\n          <button\n            onClick={onClose}\n            className=\"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n            disabled={loading}\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleConnect}\n            className=\"flex-1 px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 disabled:bg-teal-300\"\n            disabled={loading}\n          >\n            {loading ? (\n              <span className=\"flex items-center justify-center\">\n                <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n              </span>\n            ) : (\n              'Connect with Finch'\n            )}\n          </button>\n        </div>\n\n        <p className=\"mt-4 text-xs text-gray-500 text-center\">\n          Secure connection powered by Finch. Your credentials are never stored.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default FinchConnect;\n","import React, { useState, useEffect } from 'react';\nimport FinchConnect from './FinchConnect';\n\nconst IntegrationHub = () => {\n  const [connections, setConnections] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showFinchConnect, setShowFinchConnect] = useState(false);\n\n  useEffect(() => {\n    fetchConnections();\n  }, []);\n\n  const fetchConnections = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('auth_token');\n\n      const response = await fetch('http://localhost:3001/api/v1/integrations/connections', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setConnections(data.connections || []);\n      }\n    } catch (error) {\n      console.error('Failed to fetch connections:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFinchConnected = () => {\n    setShowFinchConnect(false);\n    fetchConnections();\n  };\n\n  const syncConnection = async (connectionId) => {\n    try {\n      const token = localStorage.getItem('auth_token');\n\n      const response = await fetch(`http://localhost:3001/api/v1/integrations/finch/sync/${connectionId}`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        alert(`Sync started! Job ID: ${data.jobId}`);\n      }\n    } catch (error) {\n      console.error('Sync failed:', error);\n      alert('Failed to start sync');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-6\">\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Integration Hub</h2>\n            <p className=\"text-gray-600 mt-1\">Connect your payroll, accounting, and financial accounts</p>\n          </div>\n          <button\n            onClick={() => setShowFinchConnect(true)}\n            className=\"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700\"\n          >\n            + Add Integration\n          </button>\n        </div>\n\n        {/* Available Integrations */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\n          <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-teal-500 transition-colors cursor-pointer\"\n               onClick={() => setShowFinchConnect(true)}>\n            <div className=\"flex items-center mb-3\">\n              <div className=\"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-teal-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                </svg>\n              </div>\n              <h3 className=\"ml-3 font-semibold text-gray-900\">Finch</h3>\n            </div>\n            <p className=\"text-sm text-gray-600\">Connect payroll providers like ADP, Gusto, Paychex, and more</p>\n          </div>\n\n          <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 opacity-50 cursor-not-allowed\">\n            <div className=\"flex items-center mb-3\">\n              <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\n                </svg>\n              </div>\n              <h3 className=\"ml-3 font-semibold text-gray-400\">QuickBooks</h3>\n            </div>\n            <p className=\"text-sm text-gray-400\">Coming soon - Connect accounting data</p>\n          </div>\n\n          <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 opacity-50 cursor-not-allowed\">\n            <div className=\"flex items-center mb-3\">\n              <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-6 h-6 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\" />\n                </svg>\n              </div>\n              <h3 className=\"ml-3 font-semibold text-gray-400\">Plaid</h3>\n            </div>\n            <p className=\"text-sm text-gray-400\">Coming soon - Connect bank accounts</p>\n          </div>\n        </div>\n\n        {/* Active Connections */}\n        <div>\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Active Connections</h3>\n\n          {connections.length === 0 ? (\n            <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\n              <svg className=\"mx-auto h-12 w-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n              </svg>\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No connections</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">Get started by connecting your first integration</p>\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {connections.map((connection) => (\n                <div key={connection.id} className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center\">\n                      <div className=\"w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center\">\n                        <span className=\"text-teal-600 font-bold text-sm\">{connection.provider.charAt(0).toUpperCase()}</span>\n                      </div>\n                      <div className=\"ml-4\">\n                        <h4 className=\"text-sm font-semibold text-gray-900 capitalize\">{connection.provider}</h4>\n                        <p className=\"text-xs text-gray-500\">\n                          {connection.metadata?.company_name || 'Connected'}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-3\">\n                      <span className={`px-3 py-1 text-xs font-semibold rounded-full ${\n                        connection.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                      }`}>\n                        {connection.status}\n                      </span>\n                      <button\n                        onClick={() => syncConnection(connection.id)}\n                        className=\"px-3 py-1 text-xs font-medium text-teal-600 hover:text-teal-700 border border-teal-600 rounded-md hover:bg-teal-50\"\n                      >\n                        Sync Now\n                      </button>\n                    </div>\n                  </div>\n                  {connection.lastSyncAt && (\n                    <div className=\"mt-2 text-xs text-gray-500\">\n                      Last synced: {new Date(connection.lastSyncAt).toLocaleString()}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Finch Connect Modal */}\n      {showFinchConnect && (\n        <FinchConnect\n          onClose={() => setShowFinchConnect(false)}\n          onSuccess={handleFinchConnected}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default IntegrationHub;\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\n\nconst FinchCallback = () => {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const [status, setStatus] = useState('processing');\n  const [message, setMessage] = useState('Completing Finch connection...');\n\n  useEffect(() => {\n    handleCallback();\n  }, []);\n\n  const handleCallback = async () => {\n    const code = searchParams.get('code');\n    const state = searchParams.get('state');\n    const error = searchParams.get('error');\n\n    if (error) {\n      setStatus('error');\n      setMessage(`Connection failed: ${error}`);\n      setTimeout(() => navigate('/dashboard'), 3000);\n      return;\n    }\n\n    if (!code || !state) {\n      setStatus('error');\n      setMessage('Invalid callback parameters');\n      setTimeout(() => navigate('/dashboard'), 3000);\n      return;\n    }\n\n    try {\n      // Send code and state to backend\n      const response = await fetch(\n        `http://localhost:3001/api/v1/integrations/finch/callback?code=${code}&state=${state}`\n      );\n\n      if (response.ok) {\n        const data = await response.json();\n        setStatus('success');\n        setMessage(`Successfully connected to ${data.company?.name || 'your payroll provider'}!`);\n\n        setTimeout(() => {\n          navigate('/integrations');\n        }, 2000);\n      } else {\n        throw new Error('Failed to complete connection');\n      }\n    } catch (err) {\n      console.error('Callback error:', err);\n      setStatus('error');\n      setMessage('Failed to complete connection. Please try again.');\n      setTimeout(() => navigate('/integrations'), 3000);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"bg-white rounded-lg shadow-lg p-8 max-w-md w-full\">\n        <div className=\"text-center\">\n          {status === 'processing' && (\n            <>\n              <div className=\"mx-auto w-16 h-16 mb-4\">\n                <svg className=\"animate-spin h-16 w-16 text-teal-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n              </div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Processing Connection</h2>\n            </>\n          )}\n\n          {status === 'success' && (\n            <>\n              <div className=\"mx-auto w-16 h-16 mb-4 bg-green-100 rounded-full flex items-center justify-center\">\n                <svg className=\"w-10 h-10 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Connection Successful!</h2>\n            </>\n          )}\n\n          {status === 'error' && (\n            <>\n              <div className=\"mx-auto w-16 h-16 mb-4 bg-red-100 rounded-full flex items-center justify-center\">\n                <svg className=\"w-10 h-10 text-red-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Connection Failed</h2>\n            </>\n          )}\n\n          <p className=\"text-gray-600 mb-6\">{message}</p>\n\n          <div className=\"text-sm text-gray-500\">\n            Redirecting you back...\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FinchCallback;\n","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\n\n// Dashboard Components - Enhanced versions with full HTML feature parity\nimport { TaxpayerDashboardEnhanced as TaxpayerDashboard } from './components/Dashboard/TaxpayerDashboardEnhanced';\nimport { BusinessOwnerDashboardEnhanced as BusinessOwnerDashboard } from './components/Dashboard/BusinessOwnerDashboardEnhanced';\nimport { TaxProfessionalDashboard } from './components/Dashboard/TaxProfessionalDashboard';\nimport { AdminDashboard } from './components/Dashboard/AdminDashboard';\n\n// Auth Components\nimport { Login } from './components/Login';\n\n// Integration Components\nimport IntegrationHub from './components/IntegrationHub';\nimport FinchConnect from './components/FinchConnect';\nimport FinchCallback from './components/FinchCallback';\n\n// Shared Components\nimport { LoadingSpinner } from './components/shared/LoadingSpinner';\n\n// Protected Route Component\nconst ProtectedRoute = ({ children, allowedRoles }) => {\n    const { user, loading } = useAuth();\n\n    if (loading) {\n        return <LoadingSpinner />;\n    }\n\n    if (!user) {\n        return <Navigate to=\"/login\" replace />;\n    }\n\n    if (allowedRoles && !allowedRoles.includes(user.role)) {\n        return <Navigate to=\"/dashboard\" replace />;\n    }\n\n    return children;\n};\n\n// Dashboard Router - routes to correct dashboard based on role\nconst DashboardRouter = () => {\n    const { user } = useAuth();\n\n    if (user.role === 'taxpayer') {\n        return <TaxpayerDashboard />;\n    }\n\n    if (user.role === 'business_owner') {\n        return <BusinessOwnerDashboard />;\n    }\n\n    if (user.role === 'tax_professional') {\n        return <TaxProfessionalDashboard />;\n    }\n\n    if (user.role === 'admin') {\n        return <AdminDashboard />;\n    }\n\n    return <Navigate to=\"/login\" replace />;\n};\n\nfunction AppRoutes() {\n    return (\n        <Routes>\n            {/* Public Routes */}\n            <Route path=\"/login\" element={<Login />} />\n\n            {/* Protected Routes */}\n            <Route\n                path=\"/dashboard\"\n                element={\n                    <ProtectedRoute>\n                        <DashboardRouter />\n                    </ProtectedRoute>\n                }\n            />\n\n            {/* Integration Routes */}\n            <Route\n                path=\"/integrations\"\n                element={\n                    <ProtectedRoute>\n                        <IntegrationHub />\n                    </ProtectedRoute>\n                }\n            />\n            <Route\n                path=\"/integrations/finch/connect\"\n                element={\n                    <ProtectedRoute>\n                        <FinchConnect />\n                    </ProtectedRoute>\n                }\n            />\n            <Route path=\"/integrations/finch/callback\" element={<FinchCallback />} />\n\n            {/* Admin Only Routes */}\n            <Route\n                path=\"/admin\"\n                element={\n                    <ProtectedRoute allowedRoles={['admin']}>\n                        <AdminDashboard />\n                    </ProtectedRoute>\n                }\n            />\n\n            {/* Default Route */}\n            <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\n\n            {/* 404 */}\n            <Route path=\"*\" element={<div>404 - Page Not Found</div>} />\n        </Routes>\n    );\n}\n\nfunction App() {\n    return (\n        <Router>\n            <AuthProvider>\n                <AppRoutes />\n            </AuthProvider>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './index.css';\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","API_BASE_URL","apiRequest","endpoint","options","url","config","token","response","contentType","data","error","authAPI","email","password","userData","dashboardAPI","taxpayerId","taxYear","businessId","isAuthenticated","AuthContext","createContext","useAuth","context","useContext","AuthProvider","children","user","setUser","useState","loading","setLoading","selectedEntity","setSelectedEntity","useEffect","loadUser","demoRole","demoUser","checkAuth","_a","login","logout","switchEntity","entity","jsx","dashboardService","clientId","status","taskData","filters","userId","flagId","enabled","softwareName","credentials","simulationType","inputs","simulationData","simulationId","preparerId","years","conversionData","clientData","question","scenarioInputs","searchTerm","jurisdiction","formNumber","noticeData","noticeId","notes","responseType","amountOwed","financialData","penaltyData","applicantData","applicationId","applicationType","zipCode","jurisdictions","deadlineId","alertDays","state","entityType","city","county","formatCurrency","amount","formatDate","date","dateObj","formatRelativeTime","diffInSeconds","LoadingSpinner","message","size","sizeClasses","jsxs","TaxpayerDashboardEnhanced","activeTab","setActiveTab","selectedYear","setSelectedYear","dashboardData","setDashboardData","showModal","setShowModal","loadDashboard","Header","TabNavigation","DashboardTab","ConnectionsTab","DocumentsTab","DependentsTab","IdentityTab","MessagesTab","SubscriptionTab","SettingsTab","SubscriptionModal","MessagePreparerModal","UploadModal","onOpenModal","onTabChange","tabs","tab","FilingStatusBanner","ProcessingTimeline","StatsGrid","OptimizationRecommendations","IncomeSourcesWidget","DeductionsWidget","DocumentChecklistWidget","TaxProContactWidget","UpcomingDeadlinesWidget","QuickActionsWidget","progress","currentStage","preparer","expectedDate","stages","timelineStages","getStatusIcon","stage","idx","statusIcon","isCompleted","isCurrent","isPending","stats","statsData","stat","recommendations","recs","rec","OptimizationCard","recommendation","expanded","setExpanded","borderColor","bgColor","step","doc","sources","deductions","documents","professional","pro","deadlines","items","deadline","onClose","BusinessOwnerDashboardEnhanced","selectedBusiness","setSelectedBusiness","simulationResult","setSimulationResult","ProfileTab","FinancialTab","PayrollTab","SimulationsTab","ComplianceTab","MessageModal","SimulationModal","onBusinessChange","businesses","currentBusiness","business","_b","onRunSimulation","StatusBanner","MetricsGrid","AIRecommendations","QuickActionsGrid","metricsData","RecommendationCard","Fragment","actions","action","result","StatCard","title","value","icon","trend","color","subtitle","onClick","colorClasses","getTrendIcon","getTrendColor","TaxProfessionalDashboard","selectedView","setSelectedView","setFilters","ClientPortfolioView","WorkPipelineView","TeamActivityView","ReportsView","clients","setClients","filtered","item","task","member","AdminDashboard","activeView","setActiveView","metric","AdminKPIGrid","AdminOverviewTab","UsersManagementTab","IntegrationsHealthTab","BillingManagementTab","SystemAnalyticsTab","SystemSettingsTab","KPICard","SystemHealthWidget","RealtimeActivityWidget","CriticalAlertsWidget","health","getHealthColor","score","comp","activity","alerts","alert","setSearchTerm","roleFilter","setRoleFilter","integration","limit","tier","txn","flag","Login","setEmail","setPassword","setError","navigate","useNavigate","handleSubmit","err","handleQuickLogin","role","cred","handleDemoMode","FinchConnect","onSuccess","handleConnect","IntegrationHub","connections","setConnections","showFinchConnect","setShowFinchConnect","fetchConnections","handleFinchConnected","syncConnection","connectionId","connection","FinchCallback","searchParams","useSearchParams","setStatus","setMessage","handleCallback","code","ProtectedRoute","allowedRoles","Navigate","DashboardRouter","TaxpayerDashboard","BusinessOwnerDashboard","AppRoutes","Routes","Route","App","Router","ReactDOM","React"],"mappings":"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","x_google_ignoreList":[0,1,2]}